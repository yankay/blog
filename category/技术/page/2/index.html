<!DOCTYPE html>
<!--[if lt IE 7]>
<html class="ie ie6 lte9 lte8 lte7" lang="zh-CN">
<![endif]--><!--[if IE 7]>
<html class="ie ie7 lte9 lte8 lte7" lang="zh-CN">
<![endif]--><!--[if IE 8]>
<html class="ie ie8 lte9 lte8" lang="zh-CN">
<![endif]--><!--[if IE 9]>
<html class="ie ie9" lang="zh-CN">
<![endif]--><!--[if gt IE 9]>
<html lang="zh-CN"> <![endif]--><!--[if !IE]><!--><html lang="zh-CN">
<!--<![endif]-->
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="initial-scale=1.0,maximum-scale=3.0,width=device-width">

	<link rel="profile" href="http://gmpg.org/xfn/11">
	<link rel="pingback" href="./../../../../xmlrpc.php">

	<!-- IE6-8 support of HTML5 elements -->
	<!--[if lt IE 9]>
	<script src="http://yankay.com/wp-content/themes/neuro/inc/js/html5.js" type="text/javascript"></script>
	<![endif]-->

	<meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">

	<!-- This site is optimized with the Yoast SEO plugin v16.4 - https://yoast.com/wordpress/plugins/seo/ -->
	<title>è½¯ä»¶æŠ€æœ¯å½’æ¡£ - ç¬¬2é¡µ å…±3é¡µ - æˆ‘è‡ªç„¶</title>
	<link rel="canonical" href="./index.html">
	<link rel="prev" href="./../../../%e6%8a%80%e6%9c%af/index.html">
	<link rel="next" href="./../../../%e6%8a%80%e6%9c%af/page/3/index.html">
	<meta property="og:locale" content="zh_CN">
	<meta property="og:type" content="article">
	<meta property="og:title" content="è½¯ä»¶æŠ€æœ¯å½’æ¡£ - ç¬¬2é¡µ å…±3é¡µ - æˆ‘è‡ªç„¶">
	<meta property="og:url" content="http://yankay.com/category/æŠ€æœ¯/">
	<meta property="og:site_name" content="æˆ‘è‡ªç„¶">
	<meta name="twitter:card" content="summary_large_image">
	<script type="application/ld+json" class="yoast-schema-graph">{"@context":"https://schema.org","@graph":[{"@type":"WebSite","@id":".//#website","url":".//","name":"æˆ‘è‡ªç„¶","description":"é¢œå¼€çš„åšå®¢","potentialAction":[{"@type":"SearchAction","target":".//?s={search_term_string}","query-input":"required name=search_term_string"}],"inLanguage":"zh-CN"},{"@type":"CollectionPage","@id":".//category/%e6%8a%80%e6%9c%af/page/2/#webpage","url":".//category/%e6%8a%80%e6%9c%af/page/2/","name":"è½¯ä»¶æŠ€æœ¯å½’æ¡£ - ç¬¬2é¡µ å…±3é¡µ - æˆ‘è‡ªç„¶","isPartOf":{"@id":".//#website"},"breadcrumb":{"@id":".//category/%e6%8a%80%e6%9c%af/page/2/#breadcrumb"},"inLanguage":"zh-CN","potentialAction":[{"@type":"ReadAction","target":[".//category/%e6%8a%80%e6%9c%af/page/2/"]}]},{"@type":"BreadcrumbList","@id":".//category/%e6%8a%80%e6%9c%af/page/2/#breadcrumb","itemListElement":[{"@type":"ListItem","position":1,"item":{"@type":"WebPage","@id":".//","url":".//","name":"é¦–é¡µ"}},{"@type":"ListItem","position":2,"item":{"@type":"WebPage","@id":".//category/%e6%8a%80%e6%9c%af/","url":".//category/%e6%8a%80%e6%9c%af/","name":"è½¯ä»¶æŠ€æœ¯"}},{"@type":"ListItem","position":3,"item":{"@id":".//category/%e6%8a%80%e6%9c%af/page/2/#webpage"}}]}]}</script>
	<!-- / Yoast SEO plugin. -->


<link rel="alternate" type="application/rss+xml" title="æˆ‘è‡ªç„¶ &raquo; Feed" href="./../../../../feed/index.html">
<link rel="alternate" type="application/rss+xml" title="æˆ‘è‡ªç„¶ &raquo; è¯„è®ºFeed" href="./../../../../comments/feed/index.html">
			<link rel="shortcut icon" href="http://47.100.65.109/wp-content/uploads/2021/03/favicon.png" type="image/x-icon">
		<link rel="alternate" type="application/rss+xml" title="æˆ‘è‡ªç„¶ &raquo; è½¯ä»¶æŠ€æœ¯åˆ†ç±»Feed" href="./../../../%e6%8a%80%e6%9c%af/feed/index.html">
<script type="text/javascript">
/* <![CDATA[ */
window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/14.0.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/14.0.0\/svg\/","svgExt":".svg","source":{"concatemoji":".\/\/wp-includes\/js\/wp-emoji-release.min.js?ver=6.4.2"}};
/*! This file is auto-generated */
!function(i,n){var o,s,e;function c(e){try{var t={supportTests:e,timestamp:(new Date).valueOf()};sessionStorage.setItem(o,JSON.stringify(t))}catch(e){}}function p(e,t,n){e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(t,0,0);var t=new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data),r=(e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(n,0,0),new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data));return t.every(function(e,t){return e===r[t]})}function u(e,t,n){switch(t){case"flag":return n(e,"ğŸ³ï¸â€âš§ï¸","ğŸ³ï¸â€‹âš§ï¸")?!1:!n(e,"ğŸ‡ºğŸ‡³","ğŸ‡ºâ€‹ğŸ‡³")&&!n(e,"ğŸ´ó §ó ¢ó ¥ó ®ó §ó ¿","ğŸ´â€‹ó §â€‹ó ¢â€‹ó ¥â€‹ó ®â€‹ó §â€‹ó ¿");case"emoji":return!n(e,"ğŸ«±ğŸ»â€ğŸ«²ğŸ¿","ğŸ«±ğŸ»â€‹ğŸ«²ğŸ¿")}return!1}function f(e,t,n){var r="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?new OffscreenCanvas(300,150):i.createElement("canvas"),a=r.getContext("2d",{willReadFrequently:!0}),o=(a.textBaseline="top",a.font="600 32px Arial",{});return e.forEach(function(e){o[e]=t(a,e,n)}),o}function t(e){var t=i.createElement("script");t.src=e,t.defer=!0,i.head.appendChild(t)}"undefined"!=typeof Promise&&(o="wpEmojiSettingsSupports",s=["flag","emoji"],n.supports={everything:!0,everythingExceptFlag:!0},e=new Promise(function(e){i.addEventListener("DOMContentLoaded",e,{once:!0})}),new Promise(function(t){var n=function(){try{var e=JSON.parse(sessionStorage.getItem(o));if("object"==typeof e&&"number"==typeof e.timestamp&&(new Date).valueOf()<e.timestamp+604800&&"object"==typeof e.supportTests)return e.supportTests}catch(e){}return null}();if(!n){if("undefined"!=typeof Worker&&"undefined"!=typeof OffscreenCanvas&&"undefined"!=typeof URL&&URL.createObjectURL&&"undefined"!=typeof Blob)try{var e="postMessage("+f.toString()+"("+[JSON.stringify(s),u.toString(),p.toString()].join(",")+"));",r=new Blob([e],{type:"text/javascript"}),a=new Worker(URL.createObjectURL(r),{name:"wpTestEmojiSupports"});return void(a.onmessage=function(e){c(n=e.data),a.terminate(),t(n)})}catch(e){}c(n=f(s,u,p))}t(n)}).then(function(e){for(var t in e)n.supports[t]=e[t],n.supports.everything=n.supports.everything&&n.supports[t],"flag"!==t&&(n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&n.supports[t]);n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&!n.supports.flag,n.DOMReady=!1,n.readyCallback=function(){n.DOMReady=!0}}).then(function(){return e}).then(function(){var e;n.supports.everything||(n.readyCallback(),(e=n.source||{}).concatemoji?t(e.concatemoji):e.wpemoji&&e.twemoji&&(t(e.twemoji),t(e.wpemoji)))}))}((window,document),window._wpemojiSettings);
/* ]]> */
</script>
<style id="wp-emoji-styles-inline-css" type="text/css">img.wp-smiley, img.emoji {
		display: inline !important;
		border: none !important;
		box-shadow: none !important;
		height: 1em !important;
		width: 1em !important;
		margin: 0 0.07em !important;
		vertical-align: -0.1em !important;
		background: none !important;
		padding: 0 !important;
	}</style>
<link rel="stylesheet" id="wp-block-library-css" href="./../../../../wp-includes/css/dist/block-library/style.min.css?ver=6.4.2" type="text/css" media="all">
<style id="classic-theme-styles-inline-css" type="text/css">/*! This file is auto-generated */
.wp-block-button__link{color:#fff;background-color:#32373c;border-radius:9999px;box-shadow:none;text-decoration:none;padding:calc(.667em + 2px) calc(1.333em + 2px);font-size:1.125em}.wp-block-file__button{background:#32373c;color:#fff;text-decoration:none}</style>
<style id="global-styles-inline-css" type="text/css">body{--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--color--gray: #777;--wp--preset--color--light-gray: #f5f5f5;--wp--preset--color--blue: #0286cf;--wp--preset--color--legacy: #b6b6b6;--wp--preset--color--red: #c80a00;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;--wp--preset--spacing--20: 0.44rem;--wp--preset--spacing--30: 0.67rem;--wp--preset--spacing--40: 1rem;--wp--preset--spacing--50: 1.5rem;--wp--preset--spacing--60: 2.25rem;--wp--preset--spacing--70: 3.38rem;--wp--preset--spacing--80: 5.06rem;--wp--preset--shadow--natural: 6px 6px 9px rgba(0, 0, 0, 0.2);--wp--preset--shadow--deep: 12px 12px 50px rgba(0, 0, 0, 0.4);--wp--preset--shadow--sharp: 6px 6px 0px rgba(0, 0, 0, 0.2);--wp--preset--shadow--outlined: 6px 6px 0px -3px rgba(255, 255, 255, 1), 6px 6px rgba(0, 0, 0, 1);--wp--preset--shadow--crisp: 6px 6px 0px rgba(0, 0, 0, 1);}:where(.is-layout-flex){gap: 0.5em;}:where(.is-layout-grid){gap: 0.5em;}body .is-layout-flow > .alignleft{float: left;margin-inline-start: 0;margin-inline-end: 2em;}body .is-layout-flow > .alignright{float: right;margin-inline-start: 2em;margin-inline-end: 0;}body .is-layout-flow > .aligncenter{margin-left: auto !important;margin-right: auto !important;}body .is-layout-constrained > .alignleft{float: left;margin-inline-start: 0;margin-inline-end: 2em;}body .is-layout-constrained > .alignright{float: right;margin-inline-start: 2em;margin-inline-end: 0;}body .is-layout-constrained > .aligncenter{margin-left: auto !important;margin-right: auto !important;}body .is-layout-constrained > :where(:not(.alignleft):not(.alignright):not(.alignfull)){max-width: var(--wp--style--global--content-size);margin-left: auto !important;margin-right: auto !important;}body .is-layout-constrained > .alignwide{max-width: var(--wp--style--global--wide-size);}body .is-layout-flex{display: flex;}body .is-layout-flex{flex-wrap: wrap;align-items: center;}body .is-layout-flex > *{margin: 0;}body .is-layout-grid{display: grid;}body .is-layout-grid > *{margin: 0;}:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
.wp-block-navigation a:where(:not(.wp-element-button)){color: inherit;}
:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}
:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}
.wp-block-pullquote{font-size: 1.5em;line-height: 1.6;}</style>
<link rel="stylesheet" id="bootstrap-style-css" href="./../../../../wp-content/themes/neuro/cyberchimps/lib/bootstrap/css/bootstrap.min.css?ver=2.0.4" type="text/css" media="all">
<link rel="stylesheet" id="bootstrap-responsive-style-css" href="./../../../../wp-content/themes/neuro/cyberchimps/lib/bootstrap/css/bootstrap-responsive.min.css?ver=2.0.4" type="text/css" media="all">
<link rel="stylesheet" id="font-awesome-css" href="./../../../../wp-content/themes/neuro/cyberchimps/lib/css/font-awesome.min.css?ver=6.4.2" type="text/css" media="all">
<link rel="stylesheet" id="cyberchimps_responsive-css" href="./../../../../wp-content/themes/neuro/cyberchimps/lib/bootstrap/css/cyberchimps-responsive.min.css?ver=1.0" type="text/css" media="all">
<link rel="stylesheet" id="core-style-css" href="./../../../../wp-content/themes/neuro/cyberchimps/lib/css/core.css?ver=1.0" type="text/css" media="all">
<link rel="stylesheet" id="style-css" href="./../../../../wp-content/themes/neuro/style.css?ver=1.0" type="text/css" media="all">
<link rel="stylesheet" id="elements_style-css" href="./../../../../wp-content/themes/neuro/elements/lib/css/elements.css?ver=6.4.2" type="text/css" media="all">
        <script>
            /* <![CDATA[ */
            var rcewpp = {
                "ajax_url":"http://yankay.com/wp-admin/admin-ajax.php",
                "nonce": "aa462ebe7f",
                "home_url": "http://yankay.com/",
                "settings_icon": 'http://yankay.com/wp-content/plugins/export-wp-page-to-static-html/admin/images/settings.png',
                "settings_hover_icon": 'http://yankay.com/wp-content/plugins/export-wp-page-to-static-html/admin/images/settings_hover.png'
            };
            /* ]]\> */
        </script>
        <script type="text/javascript" src="./../../../../wp-includes/js/jquery/jquery.min.js?ver=3.7.1" id="jquery-core-js"></script>
<script type="text/javascript" src="./../../../../wp-includes/js/jquery/jquery-migrate.min.js?ver=3.4.1" id="jquery-migrate-js"></script>
<script type="text/javascript" src="./../../../../wp-content/themes/neuro/cyberchimps/lib/js/jquery.slimbox.min.js?ver=1.0" id="slimbox-js"></script>
<script type="text/javascript" src="./../../../../wp-content/themes/neuro/cyberchimps/lib/js/jquery.jcarousel.min.js?ver=1.0" id="jcarousel-js"></script>
<script type="text/javascript" src="./../../../../wp-content/themes/neuro/cyberchimps/lib/js/jquery.mobile.custom.min.js?ver=6.4.2" id="jquery-mobile-touch-js"></script>
<script type="text/javascript" src="./../../../../wp-content/themes/neuro/cyberchimps/lib/js/swipe-call.min.js?ver=6.4.2" id="slider-call-js"></script>
<script type="text/javascript" src="./../../../../wp-content/themes/neuro/cyberchimps/lib/js/core.min.js?ver=6.4.2" id="core-js-js"></script>
<script type="text/javascript" src="./../../../../wp-content/themes/neuro/elements/lib/js/elements.min.js?ver=6.4.2" id="elements_js-js"></script>
<link rel="https://api.w.org/" href="./../../../../wp-json/index.html">
<link rel="alternate" type="application/json" href="./../../../../wp-json/wp/v2/categories/5/index.html">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="./../../../../xmlrpc.php?rsd">
<meta name="generator" content="WordPress 6.4.2">
<style type="text/css">.ie8 .container {max-width: 1020px;width:auto;}</style>
<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
	<style type="text/css" media="all">body {
		 font-size : 16px;
		 font-family : "Open Sans", Helvetica, Arial, "Lucida Grande", sans-serif;
		 font-weight : normal;
		 color : #333333;
				}

										.container {
		 max-width : 1020px;
				}

		
				h1, h2, h3, h4, h5, h6 {
		font-family : Arial, Helvetica, sans-serif;
				}</style>
	<link rel="icon" href="./../../../../wp-content/uploads/2021/03/cropped-favicon-32x32.png" sizes="32x32">
<link rel="icon" href="./../../../../wp-content/uploads/2021/03/cropped-favicon-192x192.png" sizes="192x192">
<link rel="apple-touch-icon" href="./../../../../wp-content/uploads/2021/03/cropped-favicon-180x180.png">
<meta name="msapplication-TileImage" content="./../../../../wp-content/uploads/2021/03/cropped-favicon-270x270.png">
	
	<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-10148377-3"></script>
<script>window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-10148377-3');</script>

</head>
<body class="archive paged category category-5 paged-2 category-paged-2 cc-responsive">


<!-- ---------------- Menu --------------------- -->
<div class="container-full-width" id="navigation_menu">
	<div class="container">
		<div class="container-fluid">
			<nav id="navigation" role="navigation">
				<div class="main-navigation navbar">
					<div class="navbar-inner">
						<div class="container">

														<div class="nav-collapse collapse">
								
								<div class="menu-%e4%b8%bb%e8%8f%9c%e5%8d%95-container"><ul id="menu-%e4%b8%bb%e8%8f%9c%e5%8d%95" class="nav">
<li id="menu-item-27229" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-27229"><a href="./../../../../index.html">é¦–é¡µ</a></li>
<li id="menu-item-26815" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-26815"><a href="./../../../../about/index.html">å…³äº</a></li>
</ul></div>
								
															</div>
						<!-- collapse -->

						<!-- .btn-navbar is used as the toggle for collapsed navbar content -->
							<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
								<span class="icon-bar"></span>
								<span class="icon-bar"></span>
								<span class="icon-bar"></span>
							</a>
												</div>
						<!-- container -->
					</div>
					<!-- .navbar-inner .row-fluid -->
				</div>
				<!-- main-navigation navbar -->
			</nav>
			<!-- #navigation -->
		</div>
		<!-- .container-fluid-->
	</div>
	<!-- .container -->
</div>
<!-- #navigation_menu -->


<!-- --------------- Sub Body -------------------- -->

<div class="container-full-width" id="sub_body">

	<!-- ---------------- Header --------------------- -->
	<div class="container-full-width" id="header_section">
		<div class="container">
						<div class="container-fluid">
					<header id="cc-header" class="row-fluid">
		<div class="span7">
				<div class="hgroup">
		<h2 class="site-title"><a href="./../../../../index.html" title="æˆ‘è‡ªç„¶" rel="home">æˆ‘è‡ªç„¶</a></h2>
	</div>
		</div>

		<div id="register" class="span5">
				<div id="social">
		<div class="legacy-icons">
					</div>
	</div>

		</div>
	</header>
			</div>
			<!-- .container-fluid-->
		</div>
		<!-- .container -->
	</div>
	<!-- #header_section -->

	<div id="archive_page" class="container-full-width">

		<div class="container">

			<div class="container-fluid">

				
				<div id="container" class="row-fluid">

					
					<div id="content" class=" span9 content-sidebar-right">

						
						
							<header class="page-header">
								<h1 class="page-title">
									åˆ†ç±»å­˜æ¡£: <span>è½¯ä»¶æŠ€æœ¯</span>								</h1>
															</header>

							
														
								
<article id="post-26426" class="post-26426 post type-post status-publish format-standard hentry category-5 tag-hbase">

	<header class="entry-header">

		
		<h2 class="entry-title">
						<a href="./../../../../hbase-slider/index.html" title="è¿ç»“åˆ°HBaseä»‹ç»PPT" rel="bookmark">HBaseä»‹ç»PPT</a>
			
		</h2>
					<div class="entry-meta">
				åœ¨ <a href="./../../../../hbase-slider/index.html" title="ä¸‹åˆ2:56" rel="bookmark">
							<time class="entry-date updated" datetime="2012-03-14T14:56:51+08:00">2012å¹´3æœˆ14æ—¥</time>
						</a> ä¸Šå…¬å¸ƒ				<span class="byline"> ä½œè€…ä¸º <span class="author vcard">
								<a class="url fn n" href="./../../../../author/yankay/index.html" title="æŸ¥çœ‹ yankay çš„æ‰€æœ‰æ–‡ç« " rel="author">yankay</a>
							</span>
						</span>			</div>
<!-- .entry-meta -->
			</header>
	<!-- .entry-header -->

						<div class="entry-content">
								<p><iframe src="http://www.slideshare.net/slideshow/embed_code/11999745" width="427" height="356" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC;border-width:1px 1px 0;margin-bottom:5px" allowfullscreen> </iframe> </p>
<div style="margin-bottom:5px"> <strong> <a href="https://www.slideshare.net/kaiyannju/hbase-11999745" title="Hbaseä»‹ç»" target="_blank">Hbaseä»‹ç»</a> </strong> from <strong><a href="http://www.slideshare.net/kaiyannju" target="_blank">kaiyannju</a></strong> </div>
							</div>
<!-- .entry-content -->
		
	
	<footer class="entry-meta">
		
							<span class="cat-links">
				æ–‡ç« åˆ†ç±» <a href="./../../../%e6%8a%80%e6%9c%af/index.html" rel="category tag">è½¯ä»¶æŠ€æœ¯</a>			</span>
				<span class="sep"> | </span>
			
							<span class="taglinks">
				æ ‡ç­¾ï¼š <a href="./../../../../tag/hbase/index.html" rel="tag">Hbase</a>			</span>
				<span class="sep"> | </span>
			
		
						<span class="comments-link"><a href="./../../../../hbase-slider/index.html#comments">1 æ¡è¯„è®º</a></span>
				<span class="sep"> | </span>
			
		
	</footer>
	<!-- #entry-meta -->

</article><!-- #post-26426 -->

							
								
<article id="post-26394" class="post-26394 post type-post status-publish format-standard hentry category-5 tag-amazon-ebs tag-ebs">

	<header class="entry-header">

		
		<h2 class="entry-title">
						<a href="./../../../../amazon-ebs%e6%9e%b6%e6%9e%84%e7%8c%9c%e6%83%b3/index.html" title="è¿ç»“åˆ°Amazon EBSæ¶æ„çŒœæƒ³" rel="bookmark">Amazon EBSæ¶æ„çŒœæƒ³</a>
			
		</h2>
					<div class="entry-meta">
				åœ¨ <a href="./../../../../amazon-ebs%e6%9e%b6%e6%9e%84%e7%8c%9c%e6%83%b3/index.html" title="ä¸‹åˆ6:19" rel="bookmark">
							<time class="entry-date updated" datetime="2012-03-08T18:19:19+08:00">2012å¹´3æœˆ8æ—¥</time>
						</a> ä¸Šå…¬å¸ƒ				<span class="byline"> ä½œè€…ä¸º <span class="author vcard">
								<a class="url fn n" href="./../../../../author/yankay/index.html" title="æŸ¥çœ‹ yankay çš„æ‰€æœ‰æ–‡ç« " rel="author">yankay</a>
							</span>
						</span>			</div>
<!-- .entry-meta -->
			</header>
	<!-- .entry-header -->

						<div class="entry-content">
								<p>Amazon EBSæ˜¯ä¸“é—¨ä¸ºAmazon EC2 è™šæ‹Ÿæœºè®¾è®¡çš„å¼¹æ€§å—å­˜å‚¨æœåŠ¡ã€‚Amazon EBSå¯ä»¥ä¸ºAmazon EC2çš„è™šæ‹Ÿæœºåˆ›å»ºå·volumesï¼ŒAmazon EBSå·ç±»ä¼¼æ²¡æœ‰æ ¼å¼åŒ–çš„å¤–éƒ¨å·è®¾å¤‡ã€‚å·æœ‰è®¾å¤‡åç§°ï¼ŒåŒæ—¶ä¹Ÿæä¾›äº†å—è®¾å¤‡æ¥å£ã€‚ä½ å¯ä»¥åœ¨Amazon EBS å·ä¸Šé©»ç•™è‡ªå·±çš„æ–‡ä»¶ç³»ç»Ÿï¼Œæˆ–è€…ç›´æ¥ä½œä¸ºå·è®¾å¤‡ä½¿ç”¨ã€‚ä¹Ÿå°±æ˜¯è¯´EBSå°±æ˜¯ä¸€ä¸ªåŸºäºé›†ç¾¤çš„å®Œç¾çš„â€œå¤§ç£ç›˜â€ï¼Œå¯ä»¥éšæœºè¯»å†™ï¼Œè¾ƒé«˜æ€§èƒ½ï¼Œå®Œç¾çš„ä¸€è‡´æ€§å’Œé«˜å¯é ã€‚æœ¬æ¥ä»¥ä¸ºè¿™åªæ˜¯å¹»è±¡ï¼Œååˆ†ä¸å¥½åšã€‚æ¨å…¬ä¸€å¸­è¯è®©æˆ‘èŒ…å¡é¡¿å¼€ã€‚æ‰€ä»¥çŒœæµ‹EBSçš„æ¶æ„å¦‚ä¸‹ï¼Œå†…éƒ¨äººå£«ä¸è¦ç¬‘è¯æˆ‘ã€‚</p>
<h3>æ¶æ„</h3>
<p style="text-align: center;"><a href="http://yankaycom-wordpress.stor.sinaapp.com/uploads/2012/03/EBS-arch.png"><img fetchpriority="high" decoding="async" class="size-full wp-image-26398 aligncenter" title="EBS-arch" src="http://yankaycom-wordpress.stor.sinaapp.com/uploads/2012/03/EBS-arch.png" alt="" width="336" height="273"></a></p>
<ul>
<li>
<strong>EBSè™šæ‹Ÿç£ç›˜é©±åŠ¨å™¨</strong>ï¼šEBSå®¢æˆ·ç«¯æ„ä»¶ï¼Œå’ŒEC2éƒ¨ç½²åœ¨ä¸€èµ·ï¼ŒåŒç”Ÿå…±æ­»ã€‚ä½œä¸ºæ“ä½œç³»ç»Ÿçš„ç£ç›˜é©±åŠ¨å™¨å­˜åœ¨ã€‚ä½œç”¨æ˜¯ç®¡ç†è¯¥ç£ç›˜çš„å—,æ¥å—ç£ç›˜è¯·æ±‚ã€‚</li>
<li>
<strong>ç¼“å†²å­˜å‚¨</strong>ï¼šæˆ‘çŒœæµ‹ï¼Œå¦‚æœè¦æƒ³ä¿è¯é«˜æ€§èƒ½ï¼ŒåŒæ—¶ä¿è¯æ•°æ®ä¸ä¸¢å¤±ï¼Œéœ€è¦ä½¿ç”¨ä¸€ä¸ªæœ¬åœ°çš„æŒä¹…åŒ–å­˜å‚¨ä½œä¸ºç¼“å†²å’Œç¼“å­˜ã€‚ç›´æ¥å¯¹é›†ç¾¤è¿›è¡Œå¤§é‡çš„ç»†ç¢çš„æ“ä½œï¼Œå»¶è¿Ÿæ˜¯ä¸å¯æ¥å—çš„ã€‚å¦‚æœä½¿ç”¨é•¿è¿æ¥ï¼Œå¤šç½‘å¡ï¼Œå¯ä»¥è®©å»¶è¿Ÿå˜å¾—å¯ä»¥æ¥å—ï¼Œé‚£ä¹ˆè¿™ä¸ªç»„ä»¶å°±ä¸æ˜¯å¿…é¡»çš„ã€‚</li>
<li>
<strong>ç±»S3</strong>:ç±»ä¼¼S3çš„Key-Valueå­˜å‚¨ã€‚æœ‰é«˜å¯é ï¼Œé«˜å»¶æ—¶ï¼Œé«˜ååçš„ç‰¹ç‚¹ã€‚è‚¯å®šä¸æ˜¯S3ï¼Œä¹Ÿè®¸ä¹Ÿä¸æ˜¯Key-valueï¼Œä½†æ˜¯å¤§è‡´æ˜¯ç±»ä¼¼çš„ã€‚ä¸å¯ä¿®æ”¹å’ŒæŒ‰å—å­˜å‚¨çš„ç‰¹æ€§æ˜¯ç›¸ä¼¼çš„ã€‚</li>
<li>
<strong>ç±»Mysql</strong>:ç±»ä¼¼Mysqlçš„DB,ç”¨æ¥å­˜å‚¨å—çš„ä¿¡æ¯ï¼Œå¿…é¡»é«˜å¯é ï¼Œå®¹é‡ä¸æ¯”å¤ªå¤§ï¼Œå‹åŠ›ä¹Ÿä¸å¤§ã€‚</li>
<li>
<strong>Slave</strong>:å¯é€‰ç»„ä»¶ï¼ŒSlaveä¼šè®°å½•ç£ç›˜é©±åŠ¨å™¨çš„æ¯ä¸ªæ“ä½œï¼ŒåŒæ­¥å…¶æ—¥å¿—ã€‚å¦‚æœEC2é‚£å°æœºå™¨çš„ç¼“å†²å­˜å‚¨æŸåï¼Œå¯ä»¥ä½¿ç”¨Slaveä¸Šé¢çš„æ¥æ¢å¤æœ€è¿‘è¿™æ®µæ—¶é—´æ²¡æœ‰åŒæ­¥åˆ°S3çš„æ•°æ®ã€‚</li>
</ul>
<h3><span style="line-height: 18px;">å­˜å‚¨æ–¹å¼</span></h3>
<p>å­˜å‚¨çš„åŸºæœ¬å•ä½æ˜¯å—ã€‚æ¯ä¸ªå—ç”±Keyå’ŒValueç»„æˆã€‚å—çš„Keyåˆ†ä¸‰éƒ¨åˆ†:diskNo-blockNo-version,Valueå°±æ˜¯Blockçš„å†…å®¹ã€‚å—å­˜å‚¨åœ¨&#8221;S3&#8243;ä¸­ï¼Œæ¯ä¸ªå—éƒ½æ˜¯ä¸å¯ä»¥ä¿®æ”¹çš„ï¼Œé€»è¾‘ä¸Šçš„ä¿®æ”¹é€šè¿‡å¢åŠ ç‰ˆæœ¬æ¥å®ç°ã€‚åŒæ—¶ä¸æ˜¯æ¯ä¸€æ¬¡ä¿®æ”¹éƒ½å¿…é¡»å¢åŠ ç‰ˆæœ¬çš„ã€‚å…·ä½“æ–¹å¼ä¸‹é¢è¯´ã€‚å—çš„å¤§å°ä¼°è®¡åœ¨4Må·¦å³ï¼Œè¦ç»¼åˆ&#8221;S3&#8243;çš„æ€§èƒ½æ¥å†³å®šã€‚</p>
<p>ä¸€ä¸ªâ€œç›˜â€ç”±è‹¥å¹²ä¸ªâ€œå—â€æ„æˆï¼Œéœ€è¦è®°å½•æ¯ä¸€ä¸ª&#8221;å—ç‰ˆæœ¬å·&#8221;ï¼ŒblockNoå’Œå—çš„ä¸ªæ•°åœ¨ç›˜åˆ›å»ºçš„æ—¶å€™å°±å·²ç»å†³å®šäº†ã€‚â€œå—ç‰ˆæœ¬å·â€ä¿¡æ¯æŒä¹…åŒ–å­˜å‚¨åœ¨Mysqlä¸­ã€‚</p>
<p>è¿™ä¸ªæ¶æ„åˆ†ä¸¤å±‚ï¼ŒS3æ˜¯åº•å±‚ï¼Œè´Ÿè´£ä¸æ–­å­˜å‚¨â€œç›˜â€çš„å¿«ç…§ã€‚æœ¬åœ°ç¼“å†²æä¾›ä½å»¶è¿Ÿè¯»å†™ã€‚</p>
<h3>å®ç°</h3>
<p>ä¸‹é¢åˆ†å‡ ç§æƒ…å†µï¼Œåˆ†åˆ«æ¥è®¨è®ºå¦‚ä½•å®ç°ã€‚</p>
<h4><strong>åˆ›å»ºï¼ŒæŒ‚è½½ç›˜</strong></h4>
<p>å½“åˆ›å»ºä¸€ä¸ªç›˜çš„æ—¶å€™ï¼Œåªè¦åœ¨Mysqlç”Ÿæˆä¸€ä¸ªæ–°çš„DiskNoã€‚æ ¹æ®ç›˜çš„å¤§å°å’ŒBlockçš„å¤§å°ï¼Œè®¡ç®—å‡ºBlockæ•°é‡ï¼Œåœ¨Mysqlä¸­åˆå§‹åŒ–å…ƒä¿¡æ¯ï¼Œå°†æ¯ä¸ªBlockçš„ç‰ˆæœ¬æ ‡è®°ä¸º0(Blockåœ¨ç‰©ç†ä¸Šè¿˜ä¸å­˜åœ¨)ã€‚</p>
<p>ç„¶åâ€œç£ç›˜é©±åŠ¨å™¨â€æŒ‚è½½ä»–ï¼Œå°†Mysqlä¸­çš„æºä¿¡æ¯ï¼ŒåŠ è½½åˆ°å†…å­˜ä¸­ã€‚å¦‚æœä¸Šæ¬¡éæ­£å¸¸å…³é—­ï¼Œå¯ä»¥é€šè¿‡ç¼“å†²å­˜å‚¨ä¸­çš„æ•°æ®ï¼Œæ‰§è¡Œæ¢å¤æ“ä½œã€‚å› ä¸ºè¿™ä¸ªç›˜ä¸æ˜¯å…±äº«çš„åªæœ‰è¯¥EC2å¯ä»¥ä½¿ç”¨ã€‚æ‰€ä»¥æŒ‚è½½åä¸éœ€è¦å†è¯»Mysql.æ‰€ä»¥å¯¹å…ƒæ•°æ®çš„æ“ä½œéƒ½å‘ç”Ÿåœ¨å†…å­˜ä¸­ï¼Œæ¯éš”ä¸€æ®µæ—¶é—´(æ¯”å¦‚10åˆ†é’Ÿ)ï¼Œå°†å…ƒæ•°æ®å¢é‡æ·»åŠ åˆ°Mysqlã€‚</p>
<p>æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœä¸€ä¸ªå—åœ¨å…ƒæ•°æ®ä¸­æœ‰ï¼Œè¿™ä¸ªå—çš„æ•°æ®å¯èƒ½åœ¨æœ¬åœ°ç¼“å†²ä¹Ÿå¯èƒ½åœ¨S3ä¸Šã€‚ä½†æ˜¯å¦‚æœåœ¨Mysqlçš„å…ƒæ•°æ®ä¸­æœ‰ï¼ŒS3ä¸Šå¿…é¡»å­˜åœ¨æœ‰è¯¥å—ã€‚</p>
<h4><strong>è¯»å—</strong></h4>
<p>æ ¹æ®blockIdï¼Œå¯ä»¥å¾—ä¹‹å…¶æœ€è¿‘ç‰ˆæœ¬ï¼Œå¹¶ä¸”æ˜¯åœ¨æœ¬åœ°ç¼“å†²å­˜å‚¨è¿˜æ˜¯åœ¨&#8221;S3&#8243;ï¼Œç›´æ¥è®¿é—®å³å¯ã€‚è¯»è¿‡çš„å—å¯ä»¥æ”¾å…¥ç¼“å†²ã€‚</p>
<h4><strong>å†™å—</strong></h4>
<p>å†™å—æ¯”è¾ƒå¤æ‚ã€‚å½“å‘èµ·ä¸€ä¸ªå†™æ“ä½œçš„æ—¶å€™ï¼Œå¦‚æœæœ¬åœ°ä¸å­˜åœ¨æˆ–è€…æ­£åœ¨åŒæ­¥ï¼Œæœ¬åœ°ä¼šå…ˆå†™å…¥ä¸€ä¸ªä¸´æ—¶å—ï¼Œå†™å…¥æˆåŠŸå°±è¿”å›æˆåŠŸã€‚ç„¶åä¼šæ‰¾åˆ°&#8221;S3&#8243;ä¸Šçš„å—ï¼Œä¸‹è½½åˆå¹¶ä¿®æ”¹ã€‚å¦‚æœæœ¬åœ°å­˜åœ¨ï¼Œå¹¶ä¸”è¯¥å—ä¸åœ¨åŒæ­¥ä¸­ï¼Œå°±ç›´æ¥ä¿®æ”¹ã€‚</p>
<p>æ¯éš”ä¸€æ®µæ—¶é—´ï¼Œç³»ç»Ÿä¼šå»ºç«‹ä¸€ä¸ªcheck pointï¼Œå°†ä¿®æ”¹çš„å—å¢åŠ ä¸€ä¸ªç‰ˆæœ¬å·ï¼ŒåŒæ­¥åˆ°â€œS3â€ä¸­å»ã€‚è¿™é‡Œçš„åŒæ­¥æ˜¯å¼‚æ­¥çš„ã€‚å…¨éƒ¨å®Œæˆç®—å®Œæˆï¼Œä¸å­˜åœ¨ä¸­é—´çŠ¶æ€ã€‚å¦‚æœæ“ä½œç³»ç»Ÿå¯¹ä¸€ä¸ªå—ä¿®æ”¹10æ¬¡ï¼Œä½†è¿™äº›ä¿®æ”¹æ“ä½œåœ¨ä¸¤æ¬¡åŒæ­¥ä¹‹é—´ï¼Œåªå¢åŠ ä¸€ä¸ªç‰ˆæœ¬ï¼Œé¿å…é‡å¤ã€‚</p>
<p><strong>ç¼“å†²å­˜å‚¨æŸå</strong></p>
<p>å¦‚æœç¼“å†²å­˜å‚¨æŸåï¼Œå¦‚æœæ²¡æœ‰Slaveã€‚ç”±äºS3å’ŒMysqlä¸­æœ‰ä¸Šä¸€æ¬¡çš„å¿«ç…§ä¿¡æ¯ï¼Œæ‰€ä»¥å¯ä»¥æ¢å¤åˆ°æœ€è¿‘çš„å¿«ç…§çŠ¶æ€ã€‚ä¸ä¼šå‡ºç°ä¸€è‡´æ€§é—®é¢˜ã€‚ä½†Check Pointä¹‹é—´çš„æ—¶é—´é—´éš”å¯èƒ½æ¯”è¾ƒé•¿ï¼Œå¦‚æœæ— æ³•å¿å—çš„è¯ï¼Œå¯ä»¥å»ºç«‹ä¸€ä¸ªSlaveç”¨æ¥è®°å½•æ‰€æœ‰çš„å†™æ“ä½œï¼Œä½†ç¼“å†²å­˜å‚¨æŸåçš„æ—¶å€™ï¼Œå¯ä»¥é€šè¿‡Slaveä¸Šçš„æ•°æ®æ¢å¤åˆ°æœ€è¿‘çš„ç‚¹ã€‚</p>
<h3>æ€»ç»“</h3>
<p>åˆ†å¸ƒå¼çš„è™šæ‹Ÿç£ç›˜ï¼Œå¯ä»¥é€šè¿‡ä¸¤å±‚å­˜å‚¨æ¶æ„ï¼ŒåŒæ—¶æ»¡è¶³ä¸¥æ ¼çš„ä¸€è‡´æ€§å’Œåˆ†åŒºè¦æ±‚ï¼Œä¹Ÿæœ‰å¥½çš„éšæœºè¯»å†™æ€§èƒ½ã€‚ä¹‹æ‰€ä»¥å¯ä»¥é‡‡å–ä¸¤å±‚å­˜å‚¨ï¼Œæ˜¯å› ä¸ºä¸€å—â€œç›˜â€åªèƒ½ä¸€å°æœºå™¨ç‹¬äº«ï¼Œä¸è¦æ±‚å…±äº«ï¼Œç›¸å½“äºåœ¨å¯åˆ†åŒºçš„ç‰¹æ€§ä¸Šæ‰“äº†ä¸ªæŠ˜æ‰£ï¼Œæ‰€ä»¥è¿™æ ·åº”è¯¥æ˜¯æ²¡é—®é¢˜çš„ã€‚</p>
<p>äºšé©¬é€Šçš„æµ‹è¯•æŠ¥å‘Šä¹Ÿæ˜¯å†™çš„æ€§èƒ½è¿œè¿œå¤§äºè¯»æ€§èƒ½ï¼Œå’Œè¿™ä¸ªæ¶æ„çš„ç‰¹ç‚¹ä¹Ÿæ˜¯ç›¸ä¼¼çš„ã€‚æš‚æ—¶æ²¡æœ‰å‘ç°ä»€ä¹ˆå†²çªçš„åœ°æ–¹ã€‚å½“ç„¶è¿™ä¸ªæ¶æ„åªæ˜¯æˆ‘çš„çŒœæƒ³ï¼Œåšä¸å¾—æ•°çš„ã€‚</p>
<p>å¥½åƒé™¤äº†äºšé©¬é€Šï¼Œæ²¡æœ‰å…¶ä»–å…¬å¸å¯¹è¿™ç§ç£ç›˜ç³»ç»Ÿæ„Ÿå…´è¶£ï¼Œä¹Ÿè®¸æ˜¯æ²¡æœ‰å¿…è¦å§ã€‚è¿™æ ·è™šæ‹Ÿå‡ºæ¥çš„ç£ç›˜æ€§èƒ½æœ‰é™ï¼Œè€Œä¸”ç³»ç»Ÿå±‚æ¬¡è¶Šå¤šè¶Šä¸ç¨³å®šã€‚ä½†â€œäº‘è®¡ç®—â€æ‹›æ‘‡æ’éª—ï¼Œå¤§è¡Œå…¶é“ï¼Œæ¢ç´¢ä¸€ä¸‹ä¹Ÿå¥½ã€‚</p>
							</div>
<!-- .entry-content -->
		
	
	<footer class="entry-meta">
		
							<span class="cat-links">
				æ–‡ç« åˆ†ç±» <a href="./../../../%e6%8a%80%e6%9c%af/index.html" rel="category tag">è½¯ä»¶æŠ€æœ¯</a>			</span>
				<span class="sep"> | </span>
			
							<span class="taglinks">
				æ ‡ç­¾ï¼š <a href="./../../../../tag/amazon-ebs/index.html" rel="tag">Amazon EBS</a>, <a href="./../../../../tag/ebs/index.html" rel="tag">EBS</a>, <a href="./../../../../tag/ebs%e6%9e%b6%e6%9e%84/index.html" rel="tag">EBSæ¶æ„</a>			</span>
				<span class="sep"> | </span>
			
		
						<span class="comments-link"><a href="./../../../../amazon-ebs%e6%9e%b6%e6%9e%84%e7%8c%9c%e6%83%b3/index.html#respond">å‘è¡¨è¯„è®º</a></span>
				<span class="sep"> | </span>
			
		
	</footer>
	<!-- #entry-meta -->

</article><!-- #post-26394 -->

							
								
<article id="post-26367" class="post-26367 post type-post status-publish format-standard hentry category-5 tag-linux tag-82 tag-95">

	<header class="entry-header">

		
		<h2 class="entry-title">
						<a href="./../../../../linux%e5%a4%a7%e6%96%87%e4%bb%b6%e4%bc%a0%e8%be%93/index.html" title="è¿ç»“åˆ°Linuxå¤§æ–‡ä»¶ä¼ è¾“" rel="bookmark">Linuxå¤§æ–‡ä»¶ä¼ è¾“</a>
			
		</h2>
					<div class="entry-meta">
				åœ¨ <a href="./../../../../linux%e5%a4%a7%e6%96%87%e4%bb%b6%e4%bc%a0%e8%be%93/index.html" title="ä¸‹åˆ2:35" rel="bookmark">
							<time class="entry-date updated" datetime="2012-02-07T14:35:49+08:00">2012å¹´2æœˆ7æ—¥</time>
						</a> ä¸Šå…¬å¸ƒ				<span class="byline"> ä½œè€…ä¸º <span class="author vcard">
								<a class="url fn n" href="./../../../../author/yankay/index.html" title="æŸ¥çœ‹ yankay çš„æ‰€æœ‰æ–‡ç« " rel="author">yankay</a>
							</span>
						</span>			</div>
<!-- .entry-meta -->
			</header>
	<!-- .entry-header -->

						<div class="entry-content">
								<div>æˆ‘ä»¬ç»å¸¸éœ€è¦åœ¨æœºå™¨ä¹‹é—´ä¼ è¾“æ–‡ä»¶ã€‚æ¯”å¦‚å¤‡ä»½ï¼Œå¤åˆ¶æ•°æ®ç­‰ç­‰ã€‚è¿™ä¸ªæ˜¯å¾ˆå¸¸è§ï¼Œä¹Ÿæ˜¯å¾ˆç®€å•çš„ã€‚ç”¨scpæˆ–è€…rsyncå°±èƒ½å¾ˆå¥½çš„å®Œæˆä»»åŠ¡ã€‚ä½†æ˜¯å¦‚æœæ–‡ä»¶å¾ˆå¤§ï¼Œéœ€è¦å ç”¨ä¸€äº›ä¼ è¾“æ—¶é—´çš„æ—¶å€™ï¼Œæ€æ ·åˆå¿«åˆå¥½åœ°å®Œæˆä»»åŠ¡å°±å¾ˆé‡è¦äº†ã€‚åœ¨æˆ‘çš„æµ‹è¯•ç”¨ä¾‹ä¸­ï¼Œä¸€ä¸ªæœ€ä½³çš„æ–¹æ¡ˆæ¯”æœ€å·®çš„æ–¹æ¡ˆï¼Œæ€§èƒ½æé«˜äº†10å€ã€‚</div>
<h3><strong>å¤åˆ¶æ–‡ä»¶</strong></h3>
<div>å¦‚æœæˆ‘ä»¬æ˜¯å¤åˆ¶ä¸€ä¸ª<strong>æœªå‹ç¼©</strong>çš„æ–‡ä»¶ã€‚è¿™é‡Œèµ°å¦‚ä¸‹æ­¥éª¤ï¼š</div>
<div>
<ol>
<li><span style="line-height: 19px;">å‹ç¼©æ•°æ®</span></li>
<li><span style="line-height: 19px;">å‘é€åˆ°å¦å¤–ä¸€å°æœºå™¨ä¸Š</span></li>
<li><span style="line-height: 19px;">æ•°æ®è§£å‹ç¼©</span></li>
<li><span style="line-height: 19px;">æ ¡éªŒæ­£ç¡®æ€§</span></li>
</ol>
<div>è¿™æ ·åšä¼šå¾ˆæœ‰æ•ˆç‡ï¼Œæ•°æ®å‹ç¼©åå¯ä»¥æ›´æœ‰æ•ˆçš„åˆ©ç”¨å¸¦å®½</div>
</div>
<h3><strong>ä½¿ç”¨ZIP+SCP</strong></h3>
<div>æˆ‘ä»¬å¯ä»¥é€šè¿‡ZIP+SCPçš„ç»„åˆå®ç°è¿™ä¸ªåŠŸèƒ½ã€‚</div>
<div>
<pre>gzip -c /home/yankay/data | ssh yankay01 "gunzip -c - &gt; /home/yankay/data"</pre>
<p>è¿™æ¡å‘½ä»¤æ˜¯å°†/home/yankay/dataç»è¿‡GZIPå‹ç¼©ï¼Œé€šè¿‡sshä¼ è¾“åˆ°yankay01çš„æœºå™¨ä¸Šã€‚</p>
</div>
<div>dataæ–‡ä»¶çš„å¤§å°æ˜¯1.1GB,ç»è¿‡Zipå‹ç¼©åæ˜¯183MBï¼Œæ‰§è¡Œä¸Šé¢çš„å‘½ä»¤éœ€è¦45.6sã€‚å¹³å‡ååé‡ä¸º24.7MB/s</div>
<div>æˆ‘ä»¬ä¼šå‘ç°Scpä¹Ÿæœ‰å‹ç¼©åŠŸèƒ½ï¼Œæ‰€ä»¥ä¸Šé¢çš„è¯­å¥å¯ä»¥å†™æˆ</div>
<div>
<pre>scp -C -c blowfish /home/yankay/data yankay01:/home/yankay/data</pre>
<p>è¿™æ ·è¿è¡Œæ•ˆæœæ˜¯ç›¸åŒçš„ï¼Œä¸é€šä¹‹å¤„åœ¨äºæˆ‘ä½¿ç”¨äº†blowfishç®—æ³•ä½œä¸ºScpçš„å¯†åŒ™ç®—æ³•ï¼Œä½¿ç”¨è¿™ä¸ªç®—æ³•å¯ä»¥æ¯”é»˜è®¤çš„æƒ…å†µå¿«å¾ˆå¤šã€‚å•å•å¯¹ä¸scp,ä½¿ç”¨äº†blowfish ååé‡æ˜¯62MB/s,ä¸ä½¿ç”¨åªæœ‰46MB/sã€‚</p>
</div>
<div>å¯æ˜¯æˆ‘æ‰§è¡Œä¸Šé¢ä¸€æ¡å‘½ä»¤çš„æ—¶å€™ï¼Œå‘ç°è¿˜æ˜¯éœ€è¦45sã€‚å¹³å‡ååé‡è¿˜ä¸º24MB/sã€‚æ²¡æœ‰ä¸æ¯«çš„æå‡ï¼Œå¯è§ç“¶é¢ˆä¸åœ¨ç½‘ç»œä¸Šã€‚</div>
<div>é‚£ç“¶é¢ˆåœ¨å“ªé‡Œå‘¢ï¼Ÿ</div>
<h3><strong>æ€§èƒ½åˆ†æ</strong></h3>
<p>æˆ‘ä»¬å…ˆå®šä¹‰å‡ ä¸ªå˜é‡</p>
<ul>
<li>å‹ç¼©å·¥å…·çš„å‹ç¼©æ¯”æ˜¯ CompressRadio</li>
<li>å‹ç¼©å·¥å…·çš„å‹ç¼©ååæ˜¯CompressSpeed MB/s</li>
<li>ç½‘ç»œä¼ è¾“çš„ååæ˜¯ NetSpeed MB/s</li>
</ul>
<p>ç”±äºä½¿ç”¨äº†ç®¡é“ï¼Œç®¡é“çš„æ€§èƒ½å–å†³äºç®¡é“ä¸­æœ€æ…¢çš„éƒ¨åˆ†çš„æ€§èƒ½ï¼Œæ‰€ä»¥æ•´ä½“çš„æ€§èƒ½æ˜¯ï¼š</p>
<p>$$speed=min(NetSpeed/CompressRadio,CompressSpeed)$$</p>
<p>å½“å‹ç¼©ååè¾ƒç½‘ç»œä¼ è¾“æ…¢çš„æ—¶å€™ï¼Œå‹ç¼©æ˜¯ç“¶é¢ˆï¼›ä½†ç½‘ç»œè¾ƒæ…¢çš„æ—¶å€™ï¼Œç½‘ç»œä¼ è¾“/åå æ˜¯ç“¶é¢ˆã€‚</p>
<p>æ ¹æ®ç°æœ‰çš„æµ‹è¯•æ•°æ®(çº¯æ–‡æœ¬)ï¼Œå¯ä»¥å¾—åˆ°è¡¨æ ¼ï¼š</p>
<table width="615" border="0" cellspacing="0" cellpadding="0">
<colgroup>
<col span="2" width="72">
<col width="64">
<col width="146">
<col width="129">
<col width="132"> </colgroup>
<tbody>
<tr>
<td width="72" height="18"></td>
<td width="72">å‹ç¼©æ¯”</td>
<td width="64">ååé‡</td>
<td width="146">åƒå…†ç½‘å¡(100MB/s)ååé‡</td>
<td width="129">åƒå…†ç½‘å¡ååé‡,åŸºäºssh(62MB/s)</td>
<td width="132">ç™¾å…†ç½‘å¡(10MB/s)ååé‡</td>
</tr>
<tr>
<td height="18">ZLIB</td>
<td align="right">35.80%</td>
<td align="right">9.6</td>
<td align="right">9.6</td>
<td align="right">9.6</td>
<td align="right">9.6</td>
</tr>
<tr>
<td height="18">LZO</td>
<td align="right">54.40%</td>
<td align="right">101.7</td>
<td align="right">101.7</td>
<td align="right">101.7</td>
<td align="right">18.38235294</td>
</tr>
<tr>
<td height="18">LIBLZF</td>
<td align="right">54.60%</td>
<td align="right">134.3</td>
<td align="right">134.3</td>
<td align="right">113.5531136</td>
<td align="right">18.31501832</td>
</tr>
<tr>
<td height="18">QUICKLZ</td>
<td align="right">54.90%</td>
<td align="right">183.4</td>
<td align="right">182.1493625</td>
<td align="right">112.9326047</td>
<td align="right">18.21493625</td>
</tr>
<tr>
<td height="18">FASTLZ</td>
<td align="right">56.20%</td>
<td align="right">134.4</td>
<td align="right">134.4</td>
<td align="right">110.3202847</td>
<td align="right">17.79359431</td>
</tr>
<tr>
<td height="18">SNAPPY</td>
<td align="right">59.80%</td>
<td align="right">189</td>
<td align="right">167.2240803</td>
<td align="right">103.6789298</td>
<td align="right">16.72240803</td>
</tr>
<tr>
<td height="18">NONE</td>
<td align="right">100%</td>
<td align="right">300</td>
<td align="right">100</td>
<td align="right">62</td>
<td align="right">10</td>
</tr>
</tbody>
</table>
<p>å¯ä»¥çœ‹å‡ºæ¥ã€‚åœ¨åƒå…†ç½‘å¡ä¸‹ï¼Œä½¿ç”¨QuickLZä½œä¸ºå‹ç¼©ç®—æ³•ï¼Œå¯ä»¥è¾¾åˆ°æœ€é«˜çš„æ€§èƒ½ã€‚å¦‚æœä½¿ç”¨SSHä½œä¸ºæ•°æ®ä¼ è¾“é€šé“ï¼Œåˆ™è¿œè¿œæ²¡æœ‰è¾¾åˆ°ç½‘å¡å¯ä»¥è¾¾åˆ°çš„æœ€ä½³æ€§èƒ½ã€‚åœ¨ç™¾å…†ç½‘å¡çš„æƒ…å†µä¸‹ï¼Œå„ä¸ªç®—æ³•ç›¸è¿‘ã€‚å¯¹æ¯”ä¸‹æ¥QuickLZæ˜¯æœ‰ä¼˜åŠ¿çš„ã€‚</p>
<p>å¯¹äºä¸åŒçš„æ•°æ®å’Œä¸åŒçš„æœºå™¨ï¼Œå¯ä»¥å¾—å‡ºä¸åŒçš„æœ€ä½³å‹ç¼©ç®—æ³•ã€‚ä½†æœ‰ä¸€ç‚¹æ˜¯è‚¯å®šçš„ï¼Œå°½é‡æŠŠç“¶é¢ˆå‹åœ¨ç½‘ç»œä¸Šã€‚å¯¹äºè¾ƒæ…¢çš„ç½‘ç»œç¯å¢ƒï¼Œé«˜å‹ç¼©æ¯”çš„ç®—æ³•ä¼šæ¯”è¾ƒæœ‰ä¼˜åŠ¿ï¼›ç›¸åå¯¹äºè¾ƒå¿«çš„ç½‘ç»œç¯å¢ƒï¼Œä½å‹ç¼©æ¯”çš„ç®—æ³•ä¼šæ›´å¥½ã€‚</p>
<h3><strong>ç»“è®º</strong></h3>
<p>æ ¹æ®ä¸Šé¢çš„åˆ†æç»“æœï¼Œæˆ‘ä»¬ä¸èƒ½æ˜¯ç”¨SSHä½œä¸ºç½‘ç»œä¼ è¾“é€šé“ï¼Œå¯ä»¥ä½¿ç”¨NCè¿™ä¸ªåŸºæœ¬ç½‘ç»œå·¥å…·ï¼Œæé«˜æ€§èƒ½ã€‚åŒæ—¶ä½¿ç”¨qpressä½œä¸ºå‹ç¼©ç®—æ³•ã€‚</p>
<pre>scp /usr/bin/qpress yankay01:/usr/bin/qpress
ssh yankay01 "nc -l 12345 |  qpress -dio &gt; /home/yankay/data" &amp;
qpress -o /home/yankay/data |nc yankay01 12345</pre>
<p>ç¬¬ä¸€è¡Œæ˜¯å°†gpresså®‰è£…åˆ°è¿œç¨‹æœºå™¨ä¸Šï¼Œç¬¬äºŒè¡Œåœ¨è¿œç¨‹æœºå™¨ä¸Šä½¿ç”¨ncç›‘å¬ä¸€ä¸ªç«¯å£ï¼Œç¬¬ä¸‰è¡Œå‹ç¼©å¹¶ä¼ é€æ•°æ®ã€‚</p>
<p>æ‰§è¡Œä¸Šé¢çš„å‘½ä»¤éœ€è¦2.8sã€‚å¹³å‡ååé‡ä¸º402MB/s,æ¯”ä½¿ç”¨Gzip+Scpå¿«äº†16å€ï¼ï¼</p>
<p>æ ¹æ®ä¸Šæ–‡çš„å…¬å¼ï¼Œå’Œè‡ªå·±çš„æ•°æ®ï¼Œå¯ä»¥ç»˜å‡ºä¸Šé¢çš„è¡¨æ ¼ï¼Œå°±å¯ä»¥é€‰æ‹©å‡ºæœ€é€‚åˆçš„å‹ç¼©ç®—æ³•å’Œä¼ è¾“æ–¹å¼ã€‚è¾¾åˆ°æ»¡æ„çš„æ•ˆæœã€‚å¦‚æœæ˜¯ä¸€ä¸ªé•¿æœŸè¿è¡Œçš„è„šæœ¬çš„è¯ï¼Œè¿™ä¹ˆåšæ˜¯å€¼å¾—çš„ã€‚</p>
							</div>
<!-- .entry-content -->
		
	
	<footer class="entry-meta">
		
							<span class="cat-links">
				æ–‡ç« åˆ†ç±» <a href="./../../../%e6%8a%80%e6%9c%af/index.html" rel="category tag">è½¯ä»¶æŠ€æœ¯</a>			</span>
				<span class="sep"> | </span>
			
							<span class="taglinks">
				æ ‡ç­¾ï¼š <a href="./../../../../tag/linux/index.html" rel="tag">Linux</a>, <a href="./../../../../tag/%e4%bc%a0%e8%be%93/index.html" rel="tag">ä¼ è¾“</a>, <a href="./../../../../tag/%e5%a4%a7%e6%96%87%e4%bb%b6/index.html" rel="tag">å¤§æ–‡ä»¶</a>			</span>
				<span class="sep"> | </span>
			
		
						<span class="comments-link"><a href="./../../../../linux%e5%a4%a7%e6%96%87%e4%bb%b6%e4%bc%a0%e8%be%93/index.html#comments">1 æ¡è¯„è®º</a></span>
				<span class="sep"> | </span>
			
		
	</footer>
	<!-- #entry-meta -->

</article><!-- #post-26367 -->

							
								
<article id="post-26346" class="post-26346 post type-post status-publish format-standard hentry category-5 tag-83 tag-105">

	<header class="entry-header">

		
		<h2 class="entry-title">
						<a href="./../../../../%e5%86%85%e5%ad%98%e7%a9%b6%e7%ab%9f%e6%9c%89%e5%a4%9a%e5%bf%ab%ef%bc%9f/index.html" title="è¿ç»“åˆ°å†…å­˜ç©¶ç«Ÿæœ‰å¤šå¿«ï¼Ÿ" rel="bookmark">å†…å­˜ç©¶ç«Ÿæœ‰å¤šå¿«ï¼Ÿ</a>
			
		</h2>
					<div class="entry-meta">
				åœ¨ <a href="./../../../../%e5%86%85%e5%ad%98%e7%a9%b6%e7%ab%9f%e6%9c%89%e5%a4%9a%e5%bf%ab%ef%bc%9f/index.html" title="ä¸‹åˆ10:58" rel="bookmark">
							<time class="entry-date updated" datetime="2012-02-06T22:58:10+08:00">2012å¹´2æœˆ6æ—¥</time>
						</a> ä¸Šå…¬å¸ƒ				<span class="byline"> ä½œè€…ä¸º <span class="author vcard">
								<a class="url fn n" href="./../../../../author/yankay/index.html" title="æŸ¥çœ‹ yankay çš„æ‰€æœ‰æ–‡ç« " rel="author">yankay</a>
							</span>
						</span>			</div>
<!-- .entry-meta -->
			</header>
	<!-- .entry-header -->

						<div class="entry-content">
								<p>ä¸€èˆ¬æ¥è¯´ã€‚CPUéœ€è¦0ä¸ªå‘¨æœŸæ¥è®¿é—®å…¶å¯„å­˜å™¨ï¼Œ1-30ä¸ªå‘¨æœŸæ¥è®¿é—®é«˜é€Ÿç¼“å­˜ï¼Œ50-200ä¸ªå‘¨æœŸæ¥è®¿é—®ä¸»å­˜ã€‚</p>
<p>å¯¹äºIntel Core i7æ¥è¯´ã€‚è¿™ä¸ªå€¼å¯ä»¥å¾ˆå…·ä½“ã€‚Intel Core i7çš„ä¸»é¢‘çº¦åœ¨2-3GHzã€‚å¯ä»¥è®¡ç®—å‡ºã€‚</p>
<table border="1" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td valign="top" width="94"></td>
<td valign="top" width="96">L1â€”æŒ‡ä»¤ç¼“å­˜</td>
<td valign="top" width="95">L1-æ•°æ®ç¼“å­˜</td>
<td valign="top" width="95">L2-ç¼“å­˜</td>
<td valign="top" width="98">L3-ç¼“å­˜</td>
<td valign="top" width="91">å†…å­˜</td>
</tr>
<tr>
<td valign="top" width="94">è®¿é—®å‘¨æœŸ</td>
<td valign="top" width="96">4</td>
<td valign="top" width="95">4</td>
<td valign="top" width="95">11</td>
<td valign="top" width="98">30-40</td>
<td valign="top" width="91">50-200</td>
</tr>
<tr>
<td valign="top" width="94">ç¼“å­˜å¤§å°</td>
<td valign="top" width="96">32KB</td>
<td valign="top" width="95">32KB</td>
<td valign="top" width="95">256KB</td>
<td valign="top" width="98">8MB</td>
<td valign="top" width="91">è‹¥å¹²GB</td>
</tr>
<tr>
<td valign="top" width="94">è®¿é—®æ—¶é—´</td>
<td valign="top" width="96">2ns</td>
<td valign="top" width="95">2ns</td>
<td valign="top" width="95">5ns</td>
<td valign="top" width="98">14-18ns</td>
<td valign="top" width="91">24-93ns</td>
</tr>
</tbody>
</table>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œè®¿é—®å†…å­˜çš„æ—¶é—´æ˜¯nsçº§åˆ«çš„ã€‚</p>
<p><strong>å†æ¥çœ‹çœ‹ç£ç›˜ã€‚</strong></p>
<p>ç£ç›˜çš„è®¿é—®æ—¶é—´=å¯»é“æ—¶é—´+æ—‹è½¬å»¶è¿Ÿ+æ•°æ®ä¼ è¾“æ—¶é—´ã€‚å¯¹äºæ™®é€šçš„7200è½¬SATAç£ç›˜ã€‚è¿™ä¸ªå€¼æ˜¯:9ms+4ms+0.02ms=13.02msã€‚</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä»ç£ç›˜éšæœºè®¿é—®ä¸€ä¸ªå­—èŠ‚ï¼Œéœ€è¦13.02msï¼Œæ¯”ä»å†…å­˜è·å–çš„æ—¶é—´24-93nsï¼Œè‡³å°‘è¦å¤š14ä¸‡å€ã€‚ç›¸å·®5ä¸ªæ•°æ®çº§ï¼Œä½•å…¶å·¨å¤§çš„å·®è·ã€‚</p>
<p>é¡ºåºè¯»å†™ç£ç›˜ä¼šå¿«ä¸€äº›ã€‚ å‡è®¾ä¸€ä¸ªç›˜ç‰‡æœ‰1000ä¸ªæ‰‡åŒºï¼Œæ¯ä¸ªæ‰‡åŒº512å­—èŠ‚ï¼Œ7200è½¬ã€‚é¡ºåºè¯»å¯ä»¥å¿½ç•¥æ‰å¯»é“çš„æ—¶é—´ã€‚æ‰€ä»¥ååé‡æ˜¯Â æ‰‡åŒºæ•°Ã—æ‰‡åŒºå¤§å°Ã—è½¬é€Ÿ=1000*512/(60/7200)=58MB/sã€‚è¿™ä¸ªæ•°æ®ä¼¼ä¹ä¸å’‹æ ·ã€‚å¦‚æœä½¿ç”¨å¤šç›˜ç³»ç»Ÿã€‚SATA IIçš„æ¥å£ï¼Œååé‡å¯ä»¥è¾¾åˆ°300MB/sã€‚è¿½æ±‚æé™æ€§èƒ½å¯ä»¥mountè£¸ç›˜ç›´æ¥æ“ä½œå¤šç›˜ã€‚</p>
<p><strong>å­˜å‚¨å™¨å±±</strong></p>
<p>ã€Šæ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿã€‹ä¸€ä¹¦ä¸­æåˆ°äº†ä¸€ä¸ª<a href="http://zh.wikipedia.org/wiki/%E5%AD%98%E5%82%A8%E5%99%A8%E5%B1%B1">å­˜å‚¨å™¨å±±</a>çš„æ¦‚å¿µã€‚æ•™æˆå…ˆç”Ÿåˆ«å‡ºå¿ƒè£çš„å°†å­˜å‚¨å™¨çš„ååé‡ï¼Œç”»æˆäº†ä¸€åº§å±±ã€‚</p>
<p><a href="http://yankaycom-wordpress.stor.sinaapp.com/uploads/2012/02/MemoryMountain17.png"><img decoding="async" class="alignnone size-full wp-image-26348" title="MemoryMountain" alt="" src="http://yankaycom-wordpress.stor.sinaapp.com/uploads/2012/02/MemoryMountain17.png" width="560" height="420"></a></p>
<p>&nbsp;</p>
<p>å­˜å‚¨å™¨å±±çš„æµ‹è¯•ç¨‹åºæ˜¯è¿™æ ·çš„ï¼š</p>
<pre><strong>Kernel_loop(elems, stride):</strong>
for (i = 0; i &lt; elems; i += stride)
    result = data[i];</pre>
<p>Xè½´è¡¨ç¤ºçš„æ˜¯è¯»å–æ­¥é•¿ï¼ŒYè½´æ˜¯ååé‡ï¼ŒZè½´æ˜¯æ•°æ®æ€»é‡çš„å¤§å°ã€‚</p>
<p>å¯ä»¥çœ‹å‡ºæ¥æ­¥é•¿è¶Šå°ï¼Œæ•°æ®æ•°æ®æ€»é‡è¶Šå°ã€‚æ€§èƒ½è¶Šå¥½ã€‚</p>
<p>å¾ˆæ˜æ˜¾ï¼Œå±±æ˜¯ä¸æ˜¯å¹³æ»‘çš„ï¼Œæ˜¯æˆé˜¶æ¢¯çŠ¶ã€‚çº¢è‰²éƒ¨åˆ†ä¸ºL1ç¼“å­˜ï¼Œç»¿è‰²ä¸ºL2ç¼“å­˜ï¼Œæµ…è“æ˜¯L3ç¼“å­˜ï¼Œæ·±è“æ˜¯å†…å­˜ã€‚æˆ‘ä»¬å¯ä»¥å¾—ä¸€äº›æ•°æ®ã€‚</p>
<table border="1" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td valign="top" width="77"></td>
<td valign="top" width="91">L1-æ•°æ®ç¼“å­˜</td>
<td valign="top" width="74">L2-ç¼“å­˜</td>
<td valign="top" width="89">L3-ç¼“å­˜</td>
<td valign="top" width="83">å†…å­˜</td>
<td valign="top" width="71">ç£ç›˜</td>
<td valign="top" width="71">SSD</td>
</tr>
<tr>
<td valign="top" width="77">ç¼“å­˜å¤§å°</td>
<td valign="top" width="91">32KB</td>
<td valign="top" width="74">256KB</td>
<td valign="top" width="89">8MB</td>
<td valign="top" width="83">åå‡ GB</td>
<td valign="top" width="71">å‡ TB</td>
<td valign="top" width="71">å‡ ç™¾GB</td>
</tr>
<tr>
<td valign="top" width="77">è®¿é—®æ—¶é—´</td>
<td valign="top" width="91">2ns</td>
<td valign="top" width="74">5ns</td>
<td valign="top" width="89">14-18ns</td>
<td valign="top" width="83">24-93ns</td>
<td valign="top" width="71">13.0ms</td>
<td valign="top" width="71">30-300us</td>
</tr>
<tr>
<td valign="top" width="77">ååé‡</td>
<td valign="top" width="91">6500MB/s</td>
<td valign="top" width="74">3300MB/s</td>
<td valign="top" width="89">2200MB/s</td>
<td valign="top" width="83">800MB/s</td>
<td valign="top" width="71">60MB/s</td>
<td valign="top" width="71">250MB/s</td>
</tr>
</tbody>
</table>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå»é™¤é«˜é€Ÿç¼“å­˜çš„å†…å­˜ï¼Œååé‡æ€§èƒ½åªæœ‰800MB/sè€Œå·²ã€‚æ¯”èµ·ç£ç›˜çš„300MB/s,ç½‘ç»œçš„100MB/sã€‚ä¹Ÿåªæ˜¯å¿«äº†å‡ å€ã€‚å¹³æ—¶è¯´å†…å­˜æ¯”ç£ç›˜å¿«è®¸å¤šï¼Œå…¶å®æ²¡æœ‰é‚£ä¹ˆå¤šï¼Œå¦‚æœä¸å¥½å¥½æ“ä½œå†…å­˜ï¼Œå†…å­˜çš„é¢‘ç¹è¯»å†™ï¼Œä¹Ÿå¯ä»¥æˆä¸ºç³»ç»Ÿç“¶é¢ˆã€‚</p>
<p><strong>æ€»ç»“</strong></p>
<p>ç°åœ¨å¤„ç†å™¨çš„ä¸»é¢‘å·²ç»åœæ­¢äº†å¢é•¿ã€‚ä½†æ˜¯é«˜é€Ÿç¼“å­˜ä»ç„¶ä»¥æ‘©å°”å®šå¾‹çš„é€Ÿåº¦å¢é•¿çš„ã€‚é•¿ä¹…çš„çœ‹ï¼Œé«˜é€Ÿç¼“å­˜é¢‘ç‡é€æ¸ä¼šè¿½ä¸Šå¤„ç†å™¨çš„æ€§èƒ½ï¼Œå®¹é‡ä¹Ÿä¼šè¶Šæ¥è¶Šå¤§ã€‚ä½†æ˜¯å†…å­˜åˆ™ä¸å®¹ä¹è§‚ï¼Œè™½ç„¶å®¹é‡å¢åŠ äº†è®¸å¤šï¼Œä½†æ˜¯æ€§èƒ½ç¡®æ²¡æœ‰å¤§çš„æå‡,ç£ç›˜çš„çŠ¶å†µä¹Ÿæ˜¯ç±»ä¼¼;SSDåˆšåˆšå¼€å§‹æ™®åŠ,è¶‹åŠ¿ä¸æ˜æ˜¾ã€‚</p>
<p>ä½†å¯ä»¥çœ‹åˆ°ï¼ŒSSDçš„ååé‡å’Œå†…å­˜çš„ååé‡ç›¸å»å¹¶ä¸å¤§ã€‚ä¹Ÿå°±æ˜¯è¯´åœ¨æœªæ¥ï¼Œå½“SSDå®Œå…¨æ›¿ä»£äº†ç£ç›˜ã€‚æˆ‘ä»¬è¦åƒç°åœ¨æ“ä½œç£ç›˜ä¸€æ ·å°å¿ƒç¿¼ç¿¼åœ°æ“ä½œå†…å­˜ï¼Œæ‰æœ‰å¯èƒ½å†™å‡ºç¬¦åˆé‚£ä¸ªæ—¶ä»£è®¡ç®—æœºæ€§èƒ½çš„ç¨‹åºã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼ŒSSDçš„ä½¿ç”¨æ¯”ç£ç›˜è¦è½»æ¾ä¸€äº›ï¼Œæ¯•ç«Ÿéšæœºè¯»å†™çš„é€Ÿåº¦åœ¨ä¸€ä¸¤ä¸ªæ•°é‡çº§ä¸Šã€‚</p>
							</div>
<!-- .entry-content -->
		
	
	<footer class="entry-meta">
		
							<span class="cat-links">
				æ–‡ç« åˆ†ç±» <a href="./../../../%e6%8a%80%e6%9c%af/index.html" rel="category tag">è½¯ä»¶æŠ€æœ¯</a>			</span>
				<span class="sep"> | </span>
			
							<span class="taglinks">
				æ ‡ç­¾ï¼š <a href="./../../../../tag/%e5%86%85%e5%ad%98/index.html" rel="tag">å†…å­˜</a>, <a href="./../../../../tag/%e6%80%a7%e8%83%bd/index.html" rel="tag">æ€§èƒ½</a>			</span>
				<span class="sep"> | </span>
			
		
						<span class="comments-link"><a href="./../../../../%e5%86%85%e5%ad%98%e7%a9%b6%e7%ab%9f%e6%9c%89%e5%a4%9a%e5%bf%ab%ef%bc%9f/index.html#comments">5 è¯„è®º</a></span>
				<span class="sep"> | </span>
			
		
	</footer>
	<!-- #entry-meta -->

</article><!-- #post-26346 -->

							
								
<article id="post-26320" class="post-26320 post type-post status-publish format-standard hentry category-5 tag-94">

	<header class="entry-header">

		
		<h2 class="entry-title">
						<a href="./../../../../%e5%b9%b6%e5%8f%91%e7%bc%96%e7%a8%8b%e4%b9%8b%e5%b7%a7%e7%94%a8%e9%94%81/index.html" title="è¿ç»“åˆ°å¹¶å‘ç¼–ç¨‹ä¹‹å·§ç”¨é”" rel="bookmark">å¹¶å‘ç¼–ç¨‹ä¹‹å·§ç”¨é”</a>
			
		</h2>
					<div class="entry-meta">
				åœ¨ <a href="./../../../../%e5%b9%b6%e5%8f%91%e7%bc%96%e7%a8%8b%e4%b9%8b%e5%b7%a7%e7%94%a8%e9%94%81/index.html" title="ä¸‹åˆ11:22" rel="bookmark">
							<time class="entry-date updated" datetime="2012-01-08T23:22:02+08:00">2012å¹´1æœˆ8æ—¥</time>
						</a> ä¸Šå…¬å¸ƒ				<span class="byline"> ä½œè€…ä¸º <span class="author vcard">
								<a class="url fn n" href="./../../../../author/yankay/index.html" title="æŸ¥çœ‹ yankay çš„æ‰€æœ‰æ–‡ç« " rel="author">yankay</a>
							</span>
						</span>			</div>
<!-- .entry-meta -->
			</header>
	<!-- .entry-header -->

						<div class="entry-content">
								<p><strong>èƒŒæ™¯</strong></p>
<p>ç¨‹åºéƒ½æ˜¯è·‘åœ¨æœºå™¨ä¸Šçš„ï¼Œå¹¶è¡ŒCPUåŒ…å«å‡ ä¸ªéƒ¨åˆ†ã€‚</p>
<ul>
<li>
<strong>å¤„ç†å™¨æ ¸å¿ƒ</strong>ã€‚æ‰§è¡Œçº¿ç¨‹çš„è®¾å¤‡ã€‚ä¸€ä¸ªæ ¸å¿ƒå¯ä»¥æ‰§è¡Œä¸€ä¸ªæˆ–å¤šä¸ªçº¿ç¨‹(è¶…çº¿ç¨‹)</li>
<li>
<strong>äº’è¿çº¿</strong>ã€‚å¤„ç†å™¨å’Œå¤„ç†å™¨ï¼Œå¤„ç†å™¨å’Œå‚¨å­˜å™¨ä¹‹é—´çš„é€šä¿¡é€šé“ã€‚ä¸€èˆ¬CPUåˆ†ä¸¤ç§æ¶æ„ï¼ŒSMPå¯¹ç§°å¤šå¤„ç†å™¨å’ŒNUMAæ¶æ„ã€‚SMPçš„é€šä¿¡æ˜¯æ€»çº¿å¼çš„ï¼Œæ ¸å¿ƒå¢åŠ åæ€§èƒ½ä¼šä¸‹é™ã€‚NUMAçš„ç»“æœç›¸å½“äºä»¥å¤ªç½‘ï¼Œæ€§èƒ½ç›¸å¯¹è¾ƒå¥½ã€‚ç†è®ºä¸ŠNUMAæ˜¯æ²¡æœ‰cacheçš„,ä¸è¿‡å•†ä¸šäº§å“éƒ½æœ‰ã€‚äº’è¿çº¿çš„èµ„æºæ˜¯<strong>æœ‰é™çš„</strong>ã€‚</li>
<li>
<strong>å­˜å‚¨å™¨</strong>ã€‚è¿™é‡Œå­˜å‚¨å™¨å€¼å¾—æ˜¯ä¸€çº§ç¼“å­˜ï¼ŒäºŒçº§ç¼“å­˜å’Œå†…å­˜ã€‚ä¸€çº§ç¼“å­˜ä¸€èˆ¬å’Œå¤„ç†å™¨åœ¨ä¸€èµ·ï¼Œè®¿é—®å®ƒéœ€è¦1-2ä¸ªæ—¶é’Ÿå‘¨æœŸï¼Œè®¿é—®äºŒçº§ç¼“å­˜åˆ™éœ€è¦æ•°åä¸ªæ—¶é’Ÿå‘¨æœŸã€‚è€Œè®¿é—®å†…å­˜ï¼Œéœ€è¦æ•°ç™¾ä¸ªæ—¶é’Ÿå‘¨æœŸã€‚</li>
</ul>
<div><span style="line-height: 18px;"><a href="http://yankaycom-wordpress.stor.sinaapp.com/uploads/2012/01/image002.gif"><img decoding="async" class="alignnone  wp-image-26322" title="smp-numa" alt="" src="http://yankaycom-wordpress.stor.sinaapp.com/uploads/2012/01/image002.gif"></a></span></div>
<div>å¯ä»¥çœ‹å‡ºæ¥ï¼ŒCPUè®¿é—®å†…å­˜çš„ä»£ä»·æ˜¯å¾ˆé«˜çš„ã€‚å¦‚æœä¸€ä¸ªå¤„ç†å™¨æ”¹å˜çš„ä¸€ä¸ªvolatileå˜é‡ï¼Œä¸ºäº†ä¿æŒä¸€è‡´æ€§ï¼Œéœ€è¦å°†è¿™ä¸ªæ¶ˆæ¯å¹¿æ’­åˆ°å…¶ä»–çš„å¤„ç†å™¨ï¼Œå…¶ä»–å¤„ç†å™¨åºŸå¼ƒå…¶ä¸€çº§ç¼“å­˜ï¼Œé‡æ–°åŠ è½½ã€‚æ•´ä¸ªæ“ä½œéœ€è¦è‡³å°‘æ•°åä¸ªæ—¶é’Ÿå‘¨æœŸã€‚è€Œå¦‚æœCPUä»…ä»…è®¿é—®å…¶ä¸€çº§ç¼“å­˜çš„æ•°æ®ï¼Œæ€§èƒ½å°±å¾ˆé«˜ã€‚æ‰€ä»¥å¤šæ ¸ç¼–ç¨‹å’Œç½‘ç»œç¼–ç¨‹ä¸€æ ·ï¼Œæ€§èƒ½çš„ç“¶é¢ˆå°±åœ¨äºäº’è¿çº¿çš„ä½¿ç”¨ã€‚</div>
<div><strong>è‡ªè½¬é”</strong></div>
<div>è‡ªè½¬é”æ˜¯ä¸€ç§é”çš„å®ç°æ–¹å¼ã€‚å°±æ˜¯åœ¨whileè¯­å¥ä¸­ä¸æ–­ç›‘è§†ä¸€ä¸ªå˜é‡ï¼Œé€šè¿‡è§‚å¯Ÿåˆ°å˜åŒ–ï¼Œä¿è¯åªæœ‰ä¸€ä¸ªçº¿ç¨‹æŒæœ‰é”ã€‚</div>
<div>
<pre lang="java">    public void lock(){
        while(state.getAndSet(true)){}
    }</pre>
</div>
<div>
<div>
<p>è¿™é‡Œçš„GetAndSetæ–¹æ³•æ˜¯ä¸€ä¸ªCPUçš„CASç¡¬ä»¶æŒ‡ä»¤ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæ¯æ¬¡è°ƒç”¨è¿™ä¸ªè´¨é‡ï¼ŒCPUè¦ä¿è¯ç¼“å­˜ä¸€è‡´ï¼Œä¸¢å¼ƒè¯¥CPUæŒæœ‰è¯¥å˜é‡çš„ç¼“å­˜ï¼Œé‡æ–°åŠ è½½ã€‚ä¼šæ¶ˆè€—è‡³å°‘æ•°åä¸ªæ—¶é’Ÿå‘¨æœŸçš„æ—¶é—´ã€‚æ‰€ä»¥å¯ä»¥è¿›è¡Œå¦‚ä¸‹æ”¹è¿›ã€‚</p>
<pre lang="java"> Â  Â public void lock(){
        while(true){
Â  Â  Â  Â      while(state.get()){};
            if(!state.getAndSet(true))
                return;
Â  Â  }</pre>
</div>
<p>è¿™ä¸ªé”å’Œä¸Šé¢çš„é”é€»è¾‘ä¸Šæ˜¯ä¸€æ ·çš„ã€‚åŒºåˆ«æ˜¯å¤„ç†å™¨åœ¨è‡ªæ—‹çš„æ—¶å€™ï¼Œä¸å†æ‰§è¡ŒCASï¼Œè€Œæ˜¯æ‰§è¡Œä¸€ä¸ªgetæ“ä½œï¼Œç›´æ¥ä»ä¸€çº§ç¼“å­˜ä¸­å–æ•°æ®ï¼Œä¸ä¸»åŠ¨åŒæ­¥ã€‚è®©å‘ç°çŠ¶æ€æœ‰æ‰€å˜åŒ–åï¼Œå†é€šè¿‡CASæ“ä½œç¡®è®¤å¹¶åŠ é”ã€‚è¿™æ ·å¯ä»¥å¤§å¤§å‡å°‘CASæŒ‡ä»¤çš„æ•°é‡ï¼ŒèŠ‚çº¦äº†å¤„ç†å™¨ä¹‹é—´çš„ä¿¡æ¯æµé‡ã€‚</p>
<p>å½“ç„¶è¿™ä¸ªé”è¿˜æœ‰å¾ˆå¤šå¯ä»¥æ”¹è¿›çš„åœ°æ–¹ï¼Œä¸è¯¦è¿°äº†ã€‚ä¸è¿‡å…¶ä¸­â€œä¹è§‚â€çš„æ€æƒ³æ˜¯å€¼å¾—å€Ÿé‰´çš„ã€‚ä¸‹é¢æ€»ç»“äº†ä¸€ä¸ªç”¨é”æ—¶å€™çš„æ–¹æ³•ï¼Œå¯ä»¥æé«˜æ€§èƒ½ã€‚</p>
<p><strong>ç»†ç²’åº¦åŒæ­¥</strong></p>
<p>ç»†ç²’åº¦åŒæ­¥é¿å…å¯¹æ•´ä¸ªæ•°æ®ç»“æ„ä¸Šé”ã€‚æ¯”å¦‚Javaè¯­è¨€ä¸­çš„ConcurrentHashMapç›¸å¯¹æ™®é€šçš„HashMapæ€§èƒ½è¦é«˜å¾ˆå¤šã€‚ä¸‹å›¾æ˜¯ConcurrentHashMapçš„ç»“æ„ã€‚</p>
<p><img loading="lazy" decoding="async" class="alignnone" alt="" src="http://pic.yupoo.com/goldendoc/Ba4GCFe1/nuEZ0.png" width="995" height="530"></p>
<p><a title="Javaå¹¶å‘ç¼–ç¨‹ä¹‹ConcurrentHashMap" href="http://www.goldendoc.org/2011/06/">ã€ŠJavaå¹¶å‘ç¼–ç¨‹ä¹‹ConcurrentHashMapã€‹</a>å¾ˆå¥½çš„è§£é‡Šäº†ConcurrentHashMapçš„å®ç°ã€‚</p>
<p><strong>è¯»å†™é”</strong></p>
<p>è®¸å¤šå…±äº«å¯¹è±¡éƒ½æ˜¯è¿™æ ·çš„ï¼Œè¯»å¯ä»¥å¹¶å‘è¿›è¡Œï¼Œä¸ä¼šå»ä¿®æ”¹å¯¹è±¡ã€‚è€Œå†™æ“ä½œéœ€è¦çº¿æ€§è¿›è¡Œã€‚å¦‚æœè¯»æ“ä½œè¿œè¿œå¤§äºå†™æ“ä½œï¼ŒåŒºåˆ†è¯»å†™è¡Œä¸ºï¼Œå¯ä»¥æé«˜ç¨‹åºçš„å¹¶å‘æ€§ã€‚</p>
<p><strong>ä¹è§‚åŒæ­¥</strong></p>
<p>ä¸Šé¢çš„è‡ªæ—‹é”ï¼Œå°±æ˜¯ä¸€ä¸ªä¹è§‚çš„ä¾‹å­ã€‚ä¹è§‚å°±æ˜¯å…ˆå–å‡ºå˜é‡ï¼Œä¹è§‚çš„è®¤ä¸ºæ²¡æœ‰å†²çªï¼Œåœ¨æœ€åå†ç¡®è®¤ä¸‹æ²¡æœ‰å†²çªï¼Œå¦‚æœæœ‰å†²çªï¼Œé‡æ–°å†æ‰§è¡Œä¸€è¾¹ã€‚è¿™æ ·å°±æŠŠéº»çƒ¦çš„äº‹æƒ…æ”¾åˆ°äº†æœ€åï¼Œå¯ä»¥å‡å°‘æ•´æ®µç¨‹åºä¸­åŠ é”çš„éƒ¨åˆ†ï¼Œæé«˜å¹¶è¡Œæ€§ã€‚</p>
<p><strong>æƒ°æ€§åŒæ­¥</strong></p>
<p>æƒ°æ€§åŒæ­¥å’Œä¹è§‚æ€è·¯æ˜¯ä¸€æ ·çš„ã€‚åœ¨ä¿®æ”¹å˜é‡çš„æ—¶å€™ï¼Œåˆ†ä¸¤ä¸ªé˜¶æ®µï¼Œå…ˆä¿®æ”¹å¥½ï¼Œå†åœ¨æœ€åç¡®è®¤æ²¡æœ‰å†²çªï¼Œå®Œæˆä¿®æ”¹ã€‚</p>
<p><strong>éé˜»å¡æ“ä½œ</strong></p>
<p>éé˜»å¡æ“ä½œå°±æ˜¯CASæ“ä½œã€‚ä½¿ç”¨è¿™äº›æ“ä½œå¯ä»¥é¿å…ä½¿ç”¨åŠ é”çš„ä¼ ç»Ÿæ–¹æ³•ï¼Œä½†å®ç°ä¸€ä¸ªéé˜»å¡çš„å…±äº«æ•°æ®ç»“æ„éå¸¸çš„å¤æ‚ï¼Œå¾ˆå®¹æ˜“å‡ºé—®é¢˜ã€‚æ€§èƒ½çš„æå‡ä¸æ˜¯æ²¡æœ‰æˆæœ¬çš„ã€‚å…³äºCASæ“ä½œï¼Œæœ‰ä¸€ä¸ªç¼ºé™·ï¼Œå³ABAé—®é¢˜ã€‚CASï¼ˆcompare and swapï¼‰æ“ä½œçš„è¯­ä¹‰æ˜¯(å…ˆæ¯”è¾ƒåŸæ¥çš„å€¼å’Œæ–°çš„å€¼æ˜¯å¦ä¸€è‡´ï¼Œå¦‚æœä¸€è‡´åˆ™æ›´æ–°å¹¶è¿”å›True,ä¸ä¸€è‡´åˆ™è¿”å›False)ã€‚è¿™ä¸ªæ“ä½œ<strong>ä¸æ˜¯åŸå­</strong>çš„ï¼Œä¸­é€”å¦‚æœæœ‰å…¶ä»–çš„çº¿ç¨‹å…ˆå°†è¿™ä¸ªåœ°å€ä¿®æ”¹ä¸ºå¦ä¸€ä¸ªå€¼åœ¨æ”¹å›æ¥ï¼Œä¸€æ ·ä¼šè¿”å›Trueã€‚æ‰€ä»¥è¦æ³¨æ„è¿™ä¸ªç‰¹æ€§ï¼Œå¦åˆ™å°±å¯èƒ½é€ æˆä¸€äº›Bug.</p>
<p>æ€§èƒ½çš„æå‡å¾ˆä¸å®¹æ˜“ï¼Œå¤šç‚¹å¤æ‚æ€§ï¼Œå°±å¤šç‚¹Bugçš„å¯èƒ½ã€‚å¹¶å‘ç¼–ç¨‹çš„Bugè¿˜ä¸æ€ä¹ˆå¥½æ‰¾å‡ºæ¥ã€‚æ‰€ä»¥æˆ‘è§‰å¾—ï¼Œå–„ç”¨ç°æœ‰çš„ä¹…ç»è€ƒéªŒçš„æ•°æ®ç»“æ„ï¼Œå°‘è‡ªå·±æ“ä½œåº•å±‚çš„åŸè¯­ï¼Œç­‰åˆ°å‘ç°æ€§èƒ½é—®é¢˜çš„æ—¶å€™ï¼Œå†åœ¨æ€§èƒ½ç“¶é¢ˆçš„éƒ¨åˆ†å±¥è–„å†°åœ°ç¼–ç¨‹ï¼Œå°½å¯èƒ½å°‘çš„å¼•å…¥å¤æ‚åº¦ã€‚è¯è¯´Javaçš„LinkedTransferQueueä½¿ç”¨äº†æ›´ç²¾è‡´çš„å¹¶å‘ç¼–ç¨‹å¯ä»¥æå¤§çš„æé«˜é˜Ÿåˆ—çš„æ€§èƒ½ï¼Œå¯åˆ°Java7æ‰æˆä¸ºJDKçš„ä¸€éƒ¨åˆ†ã€‚å¯è§å®ç°ä¸€ä¸ªå¹¶å‘çš„é˜Ÿåˆ—æœ‰å¤šéš¾äº†ã€‚</p>
</div>
							</div>
<!-- .entry-content -->
		
	
	<footer class="entry-meta">
		
							<span class="cat-links">
				æ–‡ç« åˆ†ç±» <a href="./../../../%e6%8a%80%e6%9c%af/index.html" rel="category tag">è½¯ä»¶æŠ€æœ¯</a>			</span>
				<span class="sep"> | </span>
			
							<span class="taglinks">
				æ ‡ç­¾ï¼š <a href="./../../../../tag/%e5%a4%9a%e6%a0%b8%e7%bc%96%e7%a8%8b/index.html" rel="tag">å¤šæ ¸ç¼–ç¨‹</a>			</span>
				<span class="sep"> | </span>
			
		
						<span class="comments-link"><a href="./../../../../%e5%b9%b6%e5%8f%91%e7%bc%96%e7%a8%8b%e4%b9%8b%e5%b7%a7%e7%94%a8%e9%94%81/index.html#respond">å‘è¡¨è¯„è®º</a></span>
				<span class="sep"> | </span>
			
		
	</footer>
	<!-- #entry-meta -->

</article><!-- #post-26320 -->

							
								
<article id="post-26267" class="post-26267 post type-post status-publish format-standard hentry category-5 tag-bloom-filter tag-hadoop">

	<header class="entry-header">

		
		<h2 class="entry-title">
						<a href="./../../../../%e6%9f%a5%e8%af%a2%e5%88%a9%e5%99%a8-bloom-filter%e8%af%a6%e8%a7%a3/index.html" title="è¿ç»“åˆ°æŸ¥è¯¢åˆ©å™¨-bloom-filterè¯¦è§£" rel="bookmark">æŸ¥è¯¢åˆ©å™¨-bloom-filterè¯¦è§£</a>
			
		</h2>
					<div class="entry-meta">
				åœ¨ <a href="./../../../../%e6%9f%a5%e8%af%a2%e5%88%a9%e5%99%a8-bloom-filter%e8%af%a6%e8%a7%a3/index.html" title="ä¸Šåˆ12:06" rel="bookmark">
							<time class="entry-date updated" datetime="2011-11-13T00:06:35+08:00">2011å¹´11æœˆ13æ—¥</time>
						</a> ä¸Šå…¬å¸ƒ				<span class="byline"> ä½œè€…ä¸º <span class="author vcard">
								<a class="url fn n" href="./../../../../author/yankay/index.html" title="æŸ¥çœ‹ yankay çš„æ‰€æœ‰æ–‡ç« " rel="author">yankay</a>
							</span>
						</span>			</div>
<!-- .entry-meta -->
			</header>
	<!-- .entry-header -->

						<div class="entry-content">
								<p><a href="http://zh.wikipedia.org/wiki/%E5%B8%83%E9%9A%86%E8%BF%87%E6%BB%A4%E5%99%A8" target="_blank" rel="noopener">å¸ƒéš†è¿‡æ»¤å™¨</a>ï¼ˆBloom Filterï¼‰æ˜¯1970å¹´ç”±å¸ƒéš†æå‡ºçš„ã€‚å®ƒå®é™…ä¸Šæ˜¯ä¸€ä¸ªå¾ˆé•¿çš„äºŒè¿›åˆ¶å‘é‡å’Œä¸€ç³»åˆ—éšæœºæ˜ å°„å‡½æ•°ã€‚å¸ƒéš†è¿‡æ»¤å™¨å¯ä»¥ç”¨äºæ£€ç´¢ä¸€ä¸ªå…ƒç´ æ˜¯å¦åœ¨ä¸€ä¸ªé›†åˆä¸­ã€‚å®ƒçš„ä¼˜ç‚¹æ˜¯ç©ºé—´æ•ˆç‡å’ŒæŸ¥è¯¢æ—¶é—´éƒ½è¿œè¿œè¶…è¿‡ä¸€èˆ¬çš„ç®—æ³•ï¼Œç¼ºç‚¹æ˜¯æœ‰ä¸€å®šçš„è¯¯è¯†åˆ«ç‡å’Œåˆ é™¤å›°éš¾ã€‚æœ¬æ–‡ç€é‡äºåœ¨å®ç°Bloom Filterçš„æ—¶å€™ä¼šä½¿ç”¨åˆ°çš„ä¸€äº›æŠ€å·§ã€‚</p>
<p>å¸ƒéš†è¿‡æ»¤å™¨çš„åŸç†ä¸éš¾ç†è§£ã€‚ç›¸å¯¹äºä¸€ä¸ªç²¾ç®€çš„HashMapçš„æ•°æ®ç»“æ„ï¼Œå­˜å…¥æ•°æ®çš„æ—¶å€™ï¼Œä¸å­˜å…¥æ•°æ®æœ¬èº«ï¼Œåªä¿å­˜å…¶Hashçš„å€¼ã€‚å¯ä»¥ç”¨äºåˆ¤æ–­è¯¥æ•°æ®æ˜¯å¦å­˜åœ¨ã€‚å…¶æœ¬è´¨æ˜¯ç”¨Hashå¯¹æ•°æ®è¿›è¡Œ&#8221;æœ‰æŸå‹ç¼©&#8221;çš„ä½å›¾ç´¢å¼•ã€‚è¯¦ç»†<a title="Hashå’ŒBloom Filter" href="http://www.sigma.me/2011/09/13/hash-and-bloom-filter.html" target="_blank" rel="noopener">å‚è§</a>ã€‚</p>
<p><a href="http://yankaycom-wordpress.stor.sinaapp.com/uploads/2012/12/6336783480_5f7e19e905.jpg" rel="shadowbox"><img loading="lazy" decoding="async" alt="Bloom_filter" src="http://yankaycom-wordpress.stor.sinaapp.com/uploads/2012/12/6336783480_5f7e19e905.jpg" width="500" height="180"></a></p>
<p>&nbsp;</p>
<h3>é”™è¯¯ç‡</h3>
<p>å¦‚æœç”¨æ¥å­˜æ”¾Hashå€¼çš„æ§½ä½è¶³å¤Ÿå¤šï¼Œé‚£ä¹ˆç¢°æ’çš„æ¦‚ç‡å°±ä¼šæ¯”è¾ƒå°ã€‚ä½†æ˜¯æ‰€å ç”¨çš„ç©ºé—´å°±ä¼šæ¯”è¾ƒå¤§ã€‚æ‰€ä»¥å½“åˆ†é…ç©ºé—´çš„æ—¶å€™ï¼Œéœ€è¦é€šè¿‡ä½ èƒ½å®¹å¿çš„é”™è¯¯ç‡å’Œéœ€è¦å­˜æ”¾çš„Keyçš„æ•°é‡æ¥æŒ‡å®šã€‚å¦‚æœæ‰€éœ€å­˜å‚¨çš„Keyæ•°é‡æ˜¯n,é”™è¯¯ç‡æ˜¯pï¼Œæ‰€éœ€è¦çš„æ§½ä½æ˜¯mã€‚æœ‰è®¡ç®—æ§½ä½çš„å…¬å¼$$m=-frac{nln p}{(ln 2)^2}.$$ï¼Œä¹Ÿæœ‰è®¡ç®—æ¦‚ç‡çš„å…¬å¼$$p = left( 1-e^{-(m/nln 2) n/m} right)^{(m/nln 2)}$$ã€‚è¿™äº›å…¬å¼å½“ç„¶ä¸æ˜¯æˆ‘æ¨å¯¼å‡ºæ¥çš„ï¼Œæƒ³æ¥ä¹Ÿä¸å¤ªéš¾ï¼Œå°±ä¸èµ˜è¿°æ¨å¯¼è¿‡ç¨‹äº†ã€‚ä¸‹é¢è¿™å¼ å›¾å¯ä»¥å¾ˆå¥½çš„è¡¨ç¤ºnå’Œmå–ä¸åŒçš„å€¼çš„æ—¶å€™ï¼Œpçš„å€¼ã€‚</p>
<p><a href="http://upload.wikimedia.org/wikipedia/commons/e/ef/Bloom_filter_fp_probability.svg"><img decoding="async" alt="Bloom_filter" src="http://upload.wikimedia.org/wikipedia/commons/e/ef/Bloom_filter_fp_probability.svg" width="500"></a></p>
<p>æ ¹æ®è¿™å¼ å›¾ã€‚æˆ‘ä»¬å¯ä»¥è®¡ç®—å‡ºæ‰€éœ€è¦çš„å†…å­˜ä½¿ç”¨é‡ã€‚å¦‚æœæŠŠé”™è¯¯ç‡æ§åˆ¶åœ¨1%ä»¥ä¸‹çš„è¯ã€‚</p>
<table width="80%">
<tbody>
<tr>
<th>ä¿å­˜keyæ•°</th>
<th>å ç”¨ç©ºé—´</th>
</tr>
<tr>
<td>1ä¸‡</td>
<td>64KB</td>
</tr>
<tr>
<td>10ä¸‡</td>
<td>1MB</td>
</tr>
<tr>
<td>100ä¸‡</td>
<td>16MB</td>
</tr>
<tr>
<td>1000ä¸‡</td>
<td>256MB</td>
</tr>
<tr>
<td>1äº¿</td>
<td>&lt;4GB</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<p>å¯è§å ç”¨çš„ç©ºé—´åœ¨keyçš„æ•°é‡åœ¨ç™¾ä¸‡çº§åˆ«è¿˜æ˜¯å¾ˆåˆ’ç®—çš„ï¼Œä½†åˆ°äº†ä¸Šäº¿çš„çº§åˆ«å°±ä¸é‚£ä¹ˆåˆ’ç®—äº†ã€‚</p>
<p>Bloom Filterçš„æ’å…¥å’ŒæŸ¥è¯¢éƒ½æ˜¯å¸¸æ•°çº§åˆ«çš„ï¼Œæ‰€ä»¥æœ€å¤§çš„é—®é¢˜å°±æ˜¯å ç”¨å†…å­˜è¿‡å¤§ã€‚è€Œåˆæ¬¡åˆ†é…å†…å­˜çš„æ—¶å€™ï¼Œå¦‚æœæ²¡æœ‰èƒ½å¤Ÿç¡®è®¤æ§½ä½çš„ä¸ªæ•°ã€‚å¦‚æœåˆ†é…è¿‡å¤šä¼šå¯¼è‡´å†…å­˜æµªè´¹ï¼Œå¤ªå°‘å°±ä¼šå€’æ˜¯é”™è¯¯ç‡è¿‡é«˜ã€‚ä¸‹é¢æåˆ°çš„ä¸¤ä¸ªæ”¹è¿›æ–¹æ¡ˆå¯ä»¥åˆ†åˆ«è§£å†³è¿™ä¸¤ä¸ªé—®é¢˜ã€‚</p>
<h3>æŠ˜å </h3>
<p>æŠ˜å æ˜¯æŒ‡å½“ä½ åˆå§‹åŒ–ä¸€ä¸ªBloom Filterçš„æ—¶å€™ï¼Œå¯ä»¥åˆ†é…è¶³å¤Ÿå¤§çš„æ§½ä½ï¼Œç­‰åˆ°Keyå¯¼å…¥å®Œæ¯•åï¼Œå¯ä»¥å¯¹ä½¿ç”¨çš„æ§½ä½è¿›è¡Œåˆå¹¶æ“ä½œã€‚å…·ä½“æ–¹æ³•æ˜¯å°†æ§½ä½åˆ‡æˆä¸¤åŠï¼Œä¸€è¾¹å®Œå…¨å åŠ åˆ°å¦ä¸€è¾¹ä¸Šã€‚å‡å°‘å†…å­˜çš„ä½¿ç”¨é‡ã€‚æ£€æŸ¥keyçš„ä»£ç è¦åšç¨è®¸æ”¹å˜ã€‚ä¾‹ï¼š</p>
<p><a href="http://yankaycom-wordpress.stor.sinaapp.com/uploads/2012/12/bloom-filter.png"><img loading="lazy" decoding="async" class="alignnone size-full wp-image-26307" title="bloom filter" alt="" src="http://yankaycom-wordpress.stor.sinaapp.com/uploads/2012/12/bloom-filter.png" width="247" height="99"></a></p>
<p>&nbsp;</p>
<p>é€šè¿‡è¿™ä¸ªæ“ä½œï¼Œå¯ä»¥ä½¿å®é™…ä½¿ç”¨çš„å†…å­˜é‡å‡åŠã€‚å¤šæ‰§è¡Œå‡ æ¬¡ï¼Œèƒ½å‡å°‘æ›´å¤šã€‚</p>
<h3>åŠ¨æ€æ‰©å±•</h3>
<p>é€šè¿‡æŠ˜å æ“ä½œï¼Œå¯ä»¥è§£å†³åˆ†é…è¿‡å¤§çš„é—®é¢˜ï¼Œä½†æ˜¯å¦‚æœä¸€å¼€å§‹åˆ†é…è¿‡å°ï¼Œå°±éœ€è¦æ‰©å±•æ§½ä½æ‰è¡Œã€‚å¦‚ä½•æ‰©å±•å‘¢ï¼Ÿåªè¦æŒ‰åŸå°ºå¯¸å†å»ºç«‹ä¸€ä¸ªBloom Filteræ•°ç»„ã€‚åŸæ¥çš„é‚£ä¸ªä¿å­˜èµ·æ¥ï¼Œä¸å†å†™å…¥ã€‚æœ‰æ–°çš„å†™è¯·æ±‚çš„æ—¶å€™ï¼Œå°±å°†æ•°æ®å†™å…¥åˆ°æ–°çš„é‚£ä¸ªBloom Filteræ•°ç»„é‡Œé¢å»ã€‚ç­‰åˆ°æ–°çš„ä¹Ÿå†™æ»¡äº†ï¼Œå°±å†å»ºç«‹ä¸€ä¸ªï¼Œä»¥æ­¤ç±»æ¨ã€‚æŸ¥è¯¢çš„æ—¶å€™ï¼Œå°±éœ€è¦éå†æ¯ä¸€ä¸ªBloom Filteræ•°ç»„æ‰è¡Œã€‚ä½†å› ä¸ºæŸ¥è¯¢ä¸€ä¸ªBloom Filteræ•°ç»„çš„é€Ÿåº¦å¾ˆå¿«ï¼ŒæŸ¥è¯¢ä¸€ç»„Bloom Filteræ•°ç»„ä¹Ÿä¸ä¼šå¤ªå½±å“æ€§èƒ½ã€‚ä½¿ç”¨è¿™ç§æ‰‹æ®µå¯ä»¥æ˜¯Bloom Filterçš„å¤§å°å¯ä»¥è½»æ˜“çš„æ‰©å±•ã€‚ä½†è¿™æ ·åšæœ‰ä¸ªçš„ç¼ºé™·ï¼Œå°±æ˜¯é”™è¯¯ç‡ä¼šéšç€æ•°ç»„çš„å¢åŠ è€Œä¸Šå‡ï¼Œå› ä¸ºå®é™…çš„æ•°ç»„é•¿åº¦å¹¶æ²¡æœ‰å¢åŠ ã€‚</p>
<p><a href="http://yankaycom-wordpress.stor.sinaapp.com/uploads/2012/12/6336898071_43476017091.jpg" rel="shadowbox"><img loading="lazy" decoding="async" alt="d-bloom-filter" src="http://yankaycom-wordpress.stor.sinaapp.com/uploads/2012/12/6336898071_43476017091.jpg" width="500" height="297"></a></p>
<p>é€šè¿‡ä¸Šé¢çš„ä¸¤ä¸ªæ–¹æ³•ï¼Œå°±å¯ä»¥è§£å†³BloomFilterçš„åˆ†é…å†…å­˜çš„é—®é¢˜ã€‚ä½†æ— è®ºå“ªç§æ–¹æ³•éƒ½æœ‰è‡ªå·±å±€é™æ€§ï¼ŒæŠ˜å æ¯æ¬¡åªèƒ½å‡åŠï¼Œä¸æ˜¯å¾ˆç²¾ç¡®ã€‚åŠ¨æ€å¢åŠ çš„æ–¹æ³•ä¼šé€ æˆé”™è¯¯ç‡å¢åŠ ã€‚æœ€å¥½è¿˜æ˜¯èƒ½é¢„å…ˆä¼°è®¡åˆ°è¿™ä¸ªBloomFilterçš„å®¹é‡ã€‚</p>
							</div>
<!-- .entry-content -->
		
	
	<footer class="entry-meta">
		
							<span class="cat-links">
				æ–‡ç« åˆ†ç±» <a href="./../../../%e6%8a%80%e6%9c%af/index.html" rel="category tag">è½¯ä»¶æŠ€æœ¯</a>			</span>
				<span class="sep"> | </span>
			
							<span class="taglinks">
				æ ‡ç­¾ï¼š <a href="./../../../../tag/bloom-filter/index.html" rel="tag">Bloom Filter</a>, <a href="./../../../../tag/hadoop/index.html" rel="tag">Hadoop</a>			</span>
				<span class="sep"> | </span>
			
		
						<span class="comments-link"><a href="./../../../../%e6%9f%a5%e8%af%a2%e5%88%a9%e5%99%a8-bloom-filter%e8%af%a6%e8%a7%a3/index.html#comments">1 æ¡è¯„è®º</a></span>
				<span class="sep"> | </span>
			
		
	</footer>
	<!-- #entry-meta -->

</article><!-- #post-26267 -->

							
								
<article id="post-26220" class="post-26220 post type-post status-publish format-standard hentry category-5 tag-java tag-81 tag-93">

	<header class="entry-header">

		
		<h2 class="entry-title">
						<a href="./../../../../%e5%a4%9a%e6%a0%b8%e5%b9%b3%e5%8f%b0%e4%b8%8b%e7%9a%84java%e4%bc%98%e5%8c%96/index.html" title="è¿ç»“åˆ°å¤šæ ¸å¹³å°ä¸‹çš„JAVAä¼˜åŒ–" rel="bookmark">å¤šæ ¸å¹³å°ä¸‹çš„JAVAä¼˜åŒ–</a>
			
		</h2>
					<div class="entry-meta">
				åœ¨ <a href="./../../../../%e5%a4%9a%e6%a0%b8%e5%b9%b3%e5%8f%b0%e4%b8%8b%e7%9a%84java%e4%bc%98%e5%8c%96/index.html" title="ä¸‹åˆ8:41" rel="bookmark">
							<time class="entry-date updated" datetime="2011-11-05T20:41:47+08:00">2011å¹´11æœˆ5æ—¥</time>
						</a> ä¸Šå…¬å¸ƒ				<span class="byline"> ä½œè€…ä¸º <span class="author vcard">
								<a class="url fn n" href="./../../../../author/yankay/index.html" title="æŸ¥çœ‹ yankay çš„æ‰€æœ‰æ–‡ç« " rel="author">yankay</a>
							</span>
						</span>			</div>
<!-- .entry-meta -->
			</header>
	<!-- .entry-header -->

						<div class="entry-content">
								<p>ç°åœ¨å¤šæ ¸CPUæ˜¯ä¸»æµã€‚åˆ©ç”¨å¤šæ ¸æŠ€æœ¯ï¼Œå¯ä»¥æœ‰æ•ˆå‘æŒ¥ç¡¬ä»¶çš„èƒ½åŠ›ï¼Œæå‡ååé‡ï¼Œå¯¹äºJavaç¨‹åºï¼Œå¯ä»¥å®ç°å¹¶å‘åƒåœ¾æ”¶é›†ã€‚ä½†æ˜¯Javaåˆ©ç”¨å¤šæ ¸æŠ€æœ¯ä¹Ÿå¸¦æ¥äº†ä¸€äº›é—®é¢˜ï¼Œä¸»è¦æ˜¯å¤šçº¿ç¨‹å…±äº«å†…å­˜å¼•èµ·äº†ã€‚ç›®å‰å†…å­˜å’ŒCPUä¹‹é—´çš„å¸¦å®½æ˜¯ä¸€ä¸ªä¸»è¦ç“¶é¢ˆï¼Œæ¯ä¸ªæ ¸å¯ä»¥ç‹¬äº«ä¸€éƒ¨åˆ†é«˜é€Ÿç¼“å­˜ï¼Œå¯ä»¥æé«˜æ€§èƒ½ã€‚JVMæ˜¯åˆ©ç”¨æ“ä½œç³»ç»Ÿçš„&#8221;è½»é‡çº§è¿›ç¨‹&#8221;å®ç°çº¿ç¨‹ï¼Œæ‰€ä»¥çº¿ç¨‹æ¯æ“ä½œä¸€æ¬¡å…±äº«å†…å­˜ï¼Œéƒ½æ— æ³•åœ¨é«˜é€Ÿç¼“å­˜ä¸­å‘½ä¸­ï¼Œæ˜¯ä¸€æ¬¡å¼€é”€è¾ƒå¤§çš„ç³»ç»Ÿè°ƒç”¨ã€‚æ‰€ä»¥åŒºåˆ«äºæ™®é€šçš„ä¼˜åŒ–ï¼Œé’ˆå¯¹å¤šæ ¸å¹³å°ï¼Œéœ€è¦è¿›è¡Œä¸€äº›ç‰¹æ®Šçš„ä¼˜åŒ–ã€‚</p>
<h3>ä»£ç ä¼˜åŒ–</h3>
<p><strong>çº¿ç¨‹æ•°è¦å¤§äºç­‰äºæ ¸æ•°</strong></p>
<p>å¦‚æœä½¿ç”¨å¤šçº¿ç¨‹ï¼Œåªæœ‰è¿è¡Œçš„çº¿ç¨‹æ•°æ¯”æ ¸æ•°å¤§ï¼Œæ‰æœ‰å¯èƒ½æ¦¨å¹²CPUèµ„æºï¼Œå¦åˆ™ä¼šæœ‰è‹¥å¹²æ ¸é—²ç½®ã€‚è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœçº¿ç¨‹æ•°ç›®å¤ªå¤šï¼Œå°±ä¼šå ç”¨è¿‡å¤šå†…å­˜ï¼Œå¯¼è‡´æ€§èƒ½ä¸å‡åé™ã€‚JVMçš„åƒåœ¾å›æ”¶ä¹Ÿæ˜¯éœ€è¦çº¿ç¨‹çš„ï¼Œæ‰€ä»¥è¿™é‡Œçš„çº¿ç¨‹æ•°åŒ…å«JVMè‡ªå·±çš„çº¿ç¨‹</p>
<p><strong>å°½é‡å‡å°‘å…±äº«æ•°æ®å†™æ“ä½œ</strong></p>
<p>æ¯ä¸ªçº¿ç¨‹æœ‰è‡ªå·±çš„å·¥ä½œå†…å­˜ï¼Œåœ¨è¿™ä¸ªåŒºåŸŸå†…ï¼Œç³»ç»Ÿå¯ä»¥æ¯«æ— é¡¾å¿Œçš„ä¼˜åŒ–ï¼Œå¦‚æœå»è¯»å…±äº«å†…å­˜åŒºåŸŸï¼Œæ€§èƒ½ä¹Ÿä¸ä¼šä¸‹é™ã€‚ä½†æ˜¯ä¸€æ—¦çº¿ç¨‹æƒ³å†™å…±äº«å†…å­˜(ä½¿ç”¨volatileå…³é”®å­—)ï¼Œå°±ä¼šæ’å…¥å¾ˆå¤šå†…å­˜å±éšœæ“ä½œ(Memory Barrieræˆ–è€…Memory Fence)æŒ‡ä»¤ï¼Œä¿è¯å¤„ç†å™¨ä¸ä¹±åºæ‰§è¡Œã€‚ç›¸æ¯”å†™æœ¬åœ°çº¿ç¨‹è‡ªæœ‰çš„å˜é‡ï¼Œæ€§èƒ½ä¸‹é™å¾ˆå¤šã€‚å¤„ç†æ–¹æ³•æ˜¯å°½é‡å‡å°‘å…±äº«æ•°æ®ï¼Œè¿™æ ·ä¹Ÿç¬¦åˆ&#8221;æ•°æ®è€¦åˆ&#8221;çš„è®¾è®¡åŸåˆ™ã€‚</p>
<p><strong>ä½¿ç”¨synchronizeå…³é”®å­—</strong></p>
<p>åœ¨Java1.5ä¸­ï¼Œsynchronizeæ˜¯æ€§èƒ½ä½æ•ˆçš„ã€‚å› ä¸ºè¿™æ˜¯ä¸€ä¸ªé‡é‡çº§æ“ä½œï¼Œéœ€è¦è°ƒç”¨æ“ä½œæ¥å£ï¼Œå¯¼è‡´æœ‰å¯èƒ½åŠ é”æ¶ˆè€—çš„ç³»ç»Ÿæ—¶é—´æ¯”åŠ é”ä»¥å¤–çš„æ“ä½œè¿˜å¤šã€‚ç›¸æ¯”ä¹‹ä¸‹ä½¿ç”¨Javaæä¾›çš„Lockå¯¹è±¡ï¼Œæ€§èƒ½æ›´é«˜ä¸€äº›ã€‚ä½†æ˜¯åˆ°äº†Java1.6ï¼Œå‘ç”Ÿäº†å˜åŒ–ã€‚synchronizeåœ¨è¯­ä¹‰ä¸Šå¾ˆæ¸…æ™°ï¼Œå¯ä»¥è¿›è¡Œå¾ˆå¤šä¼˜åŒ–ï¼Œæœ‰é€‚åº”è‡ªæ—‹ï¼Œé”æ¶ˆé™¤ï¼Œé”ç²—åŒ–ï¼Œè½»é‡çº§é”ï¼Œåå‘é”ç­‰ç­‰ã€‚å¯¼è‡´åœ¨Java1.6ä¸Šsynchronizeçš„æ€§èƒ½å¹¶ä¸æ¯”Lockå·®ã€‚å®˜æ–¹ä¹Ÿè¡¨ç¤ºï¼Œä»–ä»¬ä¹Ÿæ›´æ”¯æŒsynchronizeï¼Œåœ¨æœªæ¥çš„ç‰ˆæœ¬ä¸­è¿˜æœ‰ä¼˜åŒ–ä½™åœ°ã€‚</p>
<p><strong>ä½¿ç”¨ä¹è§‚ç­–ç•¥</strong></p>
<p>ä¼ ç»Ÿçš„åŒæ­¥å¹¶å‘ç­–ç•¥æ˜¯æ‚²è§‚çš„ã€‚è¡¨ç°è¯­ä¹‰ä¸ºï¼šå¤šçº¿ç¨‹æ“ä½œä¸€ä¸ªå¯¹è±¡çš„æ—¶å€™ï¼Œæ€»è§‰å¾—ä¼šæœ‰ä¸¤ä¸ªçº¿ç¨‹åœ¨åŒæ—¶æ“ä½œï¼Œæ‰€ä»¥éœ€è¦é”èµ·æ¥ã€‚ä¹è§‚ç­–ç•¥æ˜¯ï¼Œå‡è®¾å¹³æ—¶å°±ä¸€ä¸ªçº¿ç¨‹è®¿é—®ï¼Œå½“å‡ºç°äº†å†²çªçš„æ—¶å€™ï¼Œå†é‡è¯•ã€‚è¿™æ ·æ›´é«˜æ•ˆä¸€äº›ã€‚Javaçš„AtomicIntegerå°±æ˜¯ä½¿ç”¨äº†è¿™ä¸ªç­–ç•¥ã€‚</p>
<p><strong>ä½¿ç”¨çº¿ç¨‹æœ¬åœ°å˜é‡(ThreadLocal)</strong></p>
<p>ä½¿ç”¨ThreadLocalå¯ä»¥ç”Ÿæˆçº¿ç¨‹æœ¬åœ°å¯¹è±¡çš„å‰¯æœ¬ï¼Œä¸ä¼šå’Œå…¶ä»–çº¿ç¨‹å…±äº«ã€‚å½“è¯¥çº¿ç¨‹ç»ˆæ­¢çš„æ—¶å€™ï¼Œå…¶æœ¬åœ°å˜é‡å¯ä»¥å…¨éƒ¨å›æ”¶ã€‚</p>
<p><strong>ç±»ä¸­Fieldçš„æ’åº</strong></p>
<p>å¯ä»¥å°†ä¸€ä¸ªç±»ä¼šé¢‘ç¹è®¿é—®åˆ°çš„å‡ ä¸ªfieldæ”¾åœ¨ä¸€èµ·ï¼Œè¿™æ ·ä»–ä»¬å°±æœ‰æ›´å¤šçš„å¯èƒ½æ€§è¢«ä¸€èµ·åŠ å…¥é«˜é€Ÿç¼“å­˜ã€‚åŒæ—¶æœ€å¥½æŠŠä»–ä»¬æ”¾åœ¨å¤´éƒ¨ã€‚åŸºæœ¬å˜é‡å’Œå¼•ç”¨å˜é‡ä¸è¦äº¤é”™æ’æ”¾ã€‚</p>
<p><strong>æ‰¹é‡å¤„ç†æ•°ç»„</strong></p>
<p>ç°åœ¨å¤„ç†å™¨å¯ä»¥ç”¨ä¸€æ¡æŒ‡ä»¤æ¥å¤„ç†ä¸€ä¸ªæ•°ç»„ä¸­çš„å¤šæ¡è®°å½•ï¼Œä¾‹å¦‚å¯ä»¥åŒæ—¶å‘ä¸€ä¸ªbyteæ•°ç»„ä¸­è¯»æˆ–è€…å†™storeè®°å½•ã€‚æ‰€ä»¥è¦å°½é‡ä½¿ç”¨System.arraycopy()è¿™æ ·çš„æ‰¹é‡æ¥å£ï¼Œè€Œä¸æ˜¯è‡ªå·±æ“ä½œæ•°ç»„ã€‚</p>
<h3>JVMä¼˜åŒ–</h3>
<p><strong>å¯ç”¨å¤§å†…å­˜é¡µ</strong></p>
<p>ç°åœ¨ä¸€ä¸ªæ“ä½œç³»ç»Ÿé»˜è®¤é¡µæ˜¯4Kã€‚å¦‚æœä½ çš„heapæ˜¯4GBï¼Œå°±æ„å‘³ç€è¦æ‰§è¡Œ1024*1024æ¬¡åˆ†é…æ“ä½œã€‚æ‰€ä»¥æœ€å¥½èƒ½æŠŠé¡µè°ƒå¤§ã€‚è¿™ä¸ªé…é¢è®¾è®¡æ“ä½œç³»ç»Ÿï¼Œå•æ”¹Jvmæ˜¯ä¸è¡Œçš„ã€‚Linuxä¸Šçš„é…ç½®æœ‰ç‚¹å¤æ‚ï¼Œä¸è¯¦è¿°ã€‚</p>
<p>åœ¨Java1.6ä¸­UseLargePagesæ˜¯é»˜è®¤å¼€å¯çš„ï¼ŒLasrgePageSzieInBytesè¢«è®¾ç½®æˆäº†4Mã€‚ç¬”è€…çœ‹åˆ°ä¸€äº›æƒ…å†µä¸‹é…ç½®æˆäº†128MBï¼Œåœ¨å®˜æ–¹çš„æ€§èƒ½æµ‹è¯•ä¸­æ›´æ˜¯é…ç½®åˆ°256MBã€‚</p>
<p><strong>å¯ç”¨å‹ç¼©æŒ‡é’ˆ</strong></p>
<p>Javaçš„64çš„æ€§èƒ½æ¯”32æ…¢ï¼ŒåŸå› æ˜¯å› ä¸ºå…¶æŒ‡é’ˆç”±32ä½æ‰©å±•åˆ°64ä½ï¼Œè™½ç„¶å¯»å€ç©ºé—´ä»4GBæ‰©å¤§åˆ°256 TBï¼Œä½†å¯¼è‡´æ€§èƒ½çš„ä¸‹é™ï¼Œå¹¶å ç”¨äº†æ›´å¤šçš„å†…å­˜ã€‚æ‰€ä»¥å¯¹æŒ‡é’ˆè¿›è¡Œå‹ç¼©ã€‚å‹ç¼©åçš„æŒ‡é’ˆæœ€å¤šæ”¯æŒ32GBå†…å­˜ï¼Œå¹¶ä¸”å¯ä»¥è·å¾—32ä½JVMçš„æ€§èƒ½ã€‚</p>
<p>åœ¨JDK6 update 23é»˜è®¤å¼€å¯äº†ï¼Œä¹‹å‰çš„ç‰ˆæœ¬å¯ä»¥ä½¿ç”¨-XX:+UseCompressedOopsæ¥å¯åŠ¨é…ç½®ã€‚</p>
<p>æ€§èƒ½å¯ä»¥çœ‹è¿™ä¸ª<a href="http://blog.juma.me.uk/tag/compressed-oops/">è¯„æµ‹</a>ï¼Œæ€§èƒ½çš„æå‡æ˜¯å¾ˆå¯è§‚ã€‚<br>
<a rel="shadowbox" href="http://farm7.static.flickr.com/6039/6314042797_3e4992989f_b.jpg"><br>
<img loading="lazy" decoding="async" src="http://farm7.static.flickr.com/6039/6314042797_3e4992989f.jpg" alt="benchmarka" width="500" height="205"><br>
</a><br>
<strong>å¯ç”¨NUMA</strong></p>
<p>numaæ˜¯ä¸€ä¸ªCPUçš„ç‰¹æ€§ã€‚SMPæ¶æ„ä¸‹ï¼ŒCPUçš„æ ¸æ˜¯å¯¹ç§°ï¼Œä½†æ˜¯ä»–ä»¬å…±äº«ä¸€æ¡ç³»ç»Ÿæ€»çº¿ã€‚æ‰€ä»¥CPUå¤šäº†ï¼Œæ€»çº¿å°±ä¼šæˆä¸ºç“¶é¢ˆã€‚åœ¨NUMAæ¶æ„ä¸‹ï¼Œè‹¥å¹²CPUç»„æˆä¸€ä¸ªç»„ï¼Œç»„ä¹‹é—´æœ‰ç‚¹å¯¹ç‚¹çš„é€šè®¯ï¼Œç›¸äº’ç‹¬ç«‹ã€‚å¯åŠ¨å®ƒå¯ä»¥æé«˜æ€§èƒ½ã€‚</p>
<p>NUMAéœ€è¦ç¡¬ä»¶ï¼Œæ“ä½œç³»ç»Ÿï¼ŒJVMåŒæ—¶å¯ç”¨ï¼Œæ‰èƒ½å¯ç”¨ã€‚Linuxå¯ä»¥ç”¨<a href="http://linux.die.net/man/8/numactl">numactl</a>æ¥é…ç½®numa,JVMé€šè¿‡-XX:+UseNUMAæ¥å¯ç”¨ã€‚</p>
<p><strong>æ¿€è¿›ä¼˜åŒ–ç‰¹æ€§</strong></p>
<p>åœ¨Java1.6ä¸­ï¼Œæ¿€è¿›ä¼˜åŒ–(AggressiveOpts)æ˜¯é»˜è®¤å¼€å¯çš„ã€‚æ¿€è¿›ä¼˜åŒ–æ˜¯ä¸€èˆ¬æœ‰ä¸€äº›ä¸‹ä¸€ä¸ªç‰ˆæœ¬æ‰ä¼šå‘å¸ƒçš„ä¼˜åŒ–é€‰é¡¹ã€‚ä½†æ˜¯æœ‰å¯èƒ½é€ æˆä¸ç¨³å®šã€‚å‰æ®µæ—¶é—´ä»¥è®¹ä¼ è®¹çš„<a title="Java 7 Hotspotå¾ªç¯Bugè¯¦è§£" href="http://www.infoq.com/cn/news/2011/08/java7-hotspot">JDK7çš„Bug</a>ï¼Œå°±æ˜¯å¼€å¯è¿™ä¸ªé€‰é¡¹åæµ‹åˆ°çš„ã€‚</p>
<p><strong>é€ƒé€¸åˆ†æ</strong></p>
<p>è®©ä¸€ä¸ªå¯¹è±¡åœ¨ä¸€ä¸ªæ–¹æ³•å†…åˆ›å»ºåï¼Œå¦‚æœä»–ä¼ é€’å‡ºå»ï¼Œå°±å¯ä»¥ç§°ä¸ºæ–¹æ³•é€ƒé€¸ï¼›å¦‚æœä¼ é€’åˆ°åˆ«çš„çº¿ç¨‹ï¼Œæˆä¸ºçº¿ç¨‹é€ƒé€¸ã€‚å¦‚æœèƒ½çŸ¥é“ä¸€ä¸ªå¯¹è±¡æ²¡æœ‰é€ƒé€¸ï¼Œå°±å¯ä»¥æŠŠå®ƒåˆ†é…åœ¨æ ˆè€Œä¸æ˜¯å †ä¸Šï¼ŒèŠ‚çº¦GCçš„æ—¶é—´ã€‚åŒæ—¶å¯ä»¥å°†è¿™ä¸ªå¯¹è±¡æ‹†æ•£ï¼Œç›´æ¥ä½¿ç”¨å…¶æˆå‘˜å˜é‡ï¼Œæœ‰åˆ©äºåˆ©ç”¨é«˜é€Ÿç¼“å­˜ã€‚å¦‚æœä¸€ä¸ªå¯¹è±¡æ²¡æœ‰çº¿ç¨‹é€ƒé€¸ï¼Œå°±å¯ä»¥å–æ¶ˆå…¶ä¸­ä¸€åˆ‡åŒæ­¥æ“ä½œï¼Œå¾ˆå¤§çš„æé«˜æ€§èƒ½ã€‚</p>
<p>ä½†æ˜¯é€ƒé€¸åˆ†ææ˜¯å¾ˆæœ‰éš¾åº¦çš„ï¼Œå› ä¸ºèŠ±äº†cpuå»å¯¹ä¸€ä¸ªå¯¹è±¡å»åˆ†æï¼Œè¦æ˜¯ä»–ä¸é€ƒé€¸ï¼Œå°±æ— æ³•ä¼˜åŒ–ï¼Œä¹‹å‰çš„åˆ†æè¡€æœ¬æ— å½’ã€‚æ‰€ä»¥ä¸èƒ½ä½¿ç”¨å¤æ‚çš„ç®—æ³•ï¼ŒåŒæ—¶ç°åœ¨çš„JVMä¹Ÿæ²¡æœ‰å®ç°æ ˆä¸Šåˆ†é…ã€‚æ‰€ä»¥å¼€å¯ä¹‹åï¼Œæ€§èƒ½ä¹Ÿå¯èƒ½ä¸‹é™ã€‚</p>
<p>å¯ä»¥ä½¿ç”¨-XX:+DoEscapeAnalysisæ¥å¼€å¯é€ƒé€¸åˆ†æã€‚</p>
<p><strong>é«˜ååé‡GCé…ç½®</strong></p>
<p><strong></strong>å¯¹äºé«˜ååé‡ï¼Œåœ¨å¹´è½»æ€å¯ä»¥ä½¿ç”¨Parallel Scavenge,å¹´è€æ€å¯ä»¥ä½¿ç”¨Parallel Oldåƒåœ¾æ”¶é›†å™¨ã€‚<br>
ä½¿ç”¨-XX:+UseParallelOldGCå¼€å¯</p>
<p>å¯ä»¥å°†-XX:ParallelGCThreadsæ ¹æ®CPUçš„ä¸ªæ•°è¿›è¡Œè°ƒæ•´ã€‚å¯ä»¥æ˜¯CPUæ•°çš„1/2æˆ–è€…5/8</p>
<p><strong>ä½å»¶è¿ŸGCé…ç½®</strong></p>
<p><strong></strong>å¯¹äºä½å»¶è¿Ÿçš„åº”ç”¨ï¼Œåœ¨å¹´è½»æ€å¯ä»¥ä½¿ç”¨ParNew,å¹´è€æ€å¯ä»¥ä½¿ç”¨CMSåƒåœ¾æ”¶é›†å™¨ã€‚</p>
<p>å¯ä»¥ä½¿ç”¨-XX:+UseConcMarkSweepGCå’Œ-XX:+UseParNewGCæ‰“å¼€ã€‚</p>
<p>å¯ä»¥å°†-XX:ParallelGCThreadsæ ¹æ®CPUçš„ä¸ªæ•°è¿›è¡Œè°ƒæ•´ã€‚å¯ä»¥æ˜¯CPUæ•°çš„1/2æˆ–è€…5/8</p>
<p>å¯ä»¥è°ƒæ•´-XX:MaxTenuringThreshold(æ™‹å‡å¹´è€ä»£å¹´é¾„)è°ƒé«˜ï¼Œé»˜è®¤æ˜¯15.è¿™æ ·å¯ä»¥å‡å°‘å¹´è€ä»£GCçš„å‹åŠ›</p>
<p>å¯ä»¥-XX:TargetSurvivorRatioï¼Œè°ƒæ•´Survivorçš„å ç”¨æ¯”ç‡ã€‚é»˜è®¤50%.è°ƒé«˜å¯ä»¥æä¾›SurvivoråŒºçš„åˆ©ç”¨ç‡</p>
<p>å¯ä»¥è°ƒæ•´-XX:SurvivorRatio,è°ƒæ•´Edenå’ŒSurvivorçš„æ¯”é‡ã€‚é»˜è®¤æ˜¯8ã€‚è¿™ä¸ªæ¯”é‡è¶Šå°ï¼ŒSurvivorè¶Šå¤§ï¼Œå¯¹è±¡å¯ä»¥åœ¨å¹´è½»æ€å‘†æ›´å¤šæ—¶é—´ã€‚</p>
<p>ç­‰ç­‰</p>
<p>&nbsp;</p>
<p>å‚è§ï¼šã€Š<a href="http://java.sun.com/performance/reference/whitepapers/tuning.html">Javaä¼˜åŒ–ç™½çš®ä¹¦</a>ã€‹ï¼Œã€Š<a href="http://book.douban.com/subject/6522893/">æ·±å…¥ç†è§£Javaè™šæ‹Ÿæœº</a>ã€‹</p>
							</div>
<!-- .entry-content -->
		
	
	<footer class="entry-meta">
		
							<span class="cat-links">
				æ–‡ç« åˆ†ç±» <a href="./../../../%e6%8a%80%e6%9c%af/index.html" rel="category tag">è½¯ä»¶æŠ€æœ¯</a>			</span>
				<span class="sep"> | </span>
			
							<span class="taglinks">
				æ ‡ç­¾ï¼š <a href="./../../../../tag/java/index.html" rel="tag">Java</a>, <a href="./../../../../tag/%e4%bc%98%e5%8c%96/index.html" rel="tag">ä¼˜åŒ–</a>, <a href="./../../../../tag/%e5%a4%9a%e6%a0%b8/index.html" rel="tag">å¤šæ ¸</a>			</span>
				<span class="sep"> | </span>
			
		
						<span class="comments-link"><a href="./../../../../%e5%a4%9a%e6%a0%b8%e5%b9%b3%e5%8f%b0%e4%b8%8b%e7%9a%84java%e4%bc%98%e5%8c%96/index.html#comments">1 æ¡è¯„è®º</a></span>
				<span class="sep"> | </span>
			
		
	</footer>
	<!-- #entry-meta -->

</article><!-- #post-26220 -->

							
								
<article id="post-26193" class="post-26193 post type-post status-publish format-standard hentry category-5 tag-hbase tag-78 tag-99 tag-110">

	<header class="entry-header">

		
		<h2 class="entry-title">
						<a href="./../../../../hbase%e4%b8%ad%e6%96%87%e5%ae%98%e6%96%b9%e6%96%87%e6%a1%a3/index.html" title="è¿ç»“åˆ°HBaseä¸­æ–‡å®˜æ–¹æ–‡æ¡£" rel="bookmark">HBaseä¸­æ–‡å®˜æ–¹æ–‡æ¡£</a>
			
		</h2>
					<div class="entry-meta">
				åœ¨ <a href="./../../../../hbase%e4%b8%ad%e6%96%87%e5%ae%98%e6%96%b9%e6%96%87%e6%a1%a3/index.html" title="ä¸Šåˆ11:02" rel="bookmark">
							<time class="entry-date updated" datetime="2011-11-01T11:02:55+08:00">2011å¹´11æœˆ1æ—¥</time>
						</a> ä¸Šå…¬å¸ƒ				<span class="byline"> ä½œè€…ä¸º <span class="author vcard">
								<a class="url fn n" href="./../../../../author/yankay/index.html" title="æŸ¥çœ‹ yankay çš„æ‰€æœ‰æ–‡ç« " rel="author">yankay</a>
							</span>
						</span>			</div>
<!-- .entry-meta -->
			</header>
	<!-- .entry-header -->

						<div class="entry-content">
								<p>&nbsp;</p>
<p><a href="http://hbase.apache.org/"><img loading="lazy" decoding="async" class="alignright" style="border-style: initial; border-color: initial;" title="hbase" src="http://hbase.apache.org/images/hbase_logo.png" alt="hbase" width="200" height="50"></a></p>
<p><a href="http://hbase.apache.org/">HBase </a>â€“ Hadoop Databaseï¼Œæ˜¯ä¸€ä¸ªæ„å»ºåœ¨Apache Hadoopä¸Šçš„åˆ—æ•°æ®ã€‚Hbaseæœ‰å¾ˆå¥½çš„æ‰©å±•æ€§ï¼Œè¢«è®¤ä¸ºæ˜¯BigTableçš„ä¸€ä¸ªå…‹éš†ï¼Œå¯ä»¥å­˜å‚¨æ•°ä»¥äº¿è®¡çš„è¡Œã€‚</p>
<p>åœ¨Hbaseçš„å®˜ç½‘ï¼Œæˆ‘ä»¬çœ‹åˆ°ä¸€ç¯‡å¾ˆå¥½çš„<a href="http://hbase.apache.org/book.html">å®˜æ–¹æ–‡æ¡£</a>ã€‚æˆ‘èŠ±äº†å¾ˆé•¿çš„æ—¶é—´ï¼ŒæŠŠä»–æ±‰åŒ–äº†ã€‚è¯·ç‚¹å‡»è¿™é‡Œ:ã€Š<a href="http://www.yankay.com/wp-content/hbase/book.html">HBaseä¸­æ–‡å®˜æ–¹æ–‡æ¡£</a>ã€‹</p>
<p>è¿™ç¯‡æ–‡æ¡£éå¸¸çš„è¯¦å°½ï¼Œä»Hbaseçš„å®‰è£…ï¼Œé…ç½®ï¼Œä½¿ç”¨ï¼ŒåŸç†ï¼Œä¼˜åŒ–ï¼Œç»´æŠ¤éƒ½åšäº†éå¸¸å…¨é¢çš„ä»‹ç»ã€‚è¿˜æä¾›äº†å¾ˆå¤šæ‰©å±•é˜…è¯»ï¼Œæ–¹ä¾¿æˆ‘ä»¬çŸ¥é“æ›´å¤šHbaseçš„å·¥ä½œæœºåˆ¶ã€‚é€šè¿‡ç¿»è¯‘è¿™ç¯‡æ–‡æ¡£ï¼Œæˆ‘ç»†ç»†è¯»äº†è¿™ç¯‡æ–‡æ¡£ï¼Œå—ç›Šè‰¯å¤šã€‚</p>
<p>ç¿»è¯‘æ˜¯ä¸€ä¸ªåƒè¿›å»å†åå‡ºæ¥çš„è¿‡ç¨‹ï¼Œæˆ‘çš„Hbaseçš„ç†è§£ä¹Ÿå¯èƒ½ä¼šå‘ç”Ÿä¸€äº›åå·®ï¼Œæ‰€ä»¥å¦‚æœæœ‰åœ°æ–¹å‘ç”Ÿé”™è¯¯ï¼Œè¯·å‘Šè¯‰æˆ‘ï¼Œå¤§å®¶ä¸€èµ·è¿›æ­¥ã€‚</p>
<p>&nbsp;</p>
							</div>
<!-- .entry-content -->
		
	
	<footer class="entry-meta">
		
							<span class="cat-links">
				æ–‡ç« åˆ†ç±» <a href="./../../../%e6%8a%80%e6%9c%af/index.html" rel="category tag">è½¯ä»¶æŠ€æœ¯</a>			</span>
				<span class="sep"> | </span>
			
							<span class="taglinks">
				æ ‡ç­¾ï¼š <a href="./../../../../tag/hbase/index.html" rel="tag">Hbase</a>, <a href="./../../../../tag/%e4%b8%ad%e6%96%87/index.html" rel="tag">ä¸­æ–‡</a>, <a href="./../../../../tag/%e5%ae%98%e6%96%b9%e6%96%87%e6%a1%a3/index.html" rel="tag">å®˜æ–¹æ–‡æ¡£</a>, <a href="./../../../../tag/%e6%96%87%e6%a1%a3/index.html" rel="tag">æ–‡æ¡£</a>			</span>
				<span class="sep"> | </span>
			
		
						<span class="comments-link"><a href="./../../../../hbase%e4%b8%ad%e6%96%87%e5%ae%98%e6%96%b9%e6%96%87%e6%a1%a3/index.html#respond">å‘è¡¨è¯„è®º</a></span>
				<span class="sep"> | </span>
			
		
	</footer>
	<!-- #entry-meta -->

</article><!-- #post-26193 -->

							
								
<article id="post-26158" class="post-26158 post type-post status-publish format-standard hentry category-5 tag-opmphf tag-90 tag-114">

	<header class="entry-header">

		
		<h2 class="entry-title">
						<a href="./../../../../introduction-to-opmphf/index.html" title="è¿ç»“åˆ°æœ€å°å®Œç¾å“ˆå¸Œå‡½æ•°ç®€ä»‹" rel="bookmark">æœ€å°å®Œç¾å“ˆå¸Œå‡½æ•°ç®€ä»‹</a>
			
		</h2>
					<div class="entry-meta">
				åœ¨ <a href="./../../../../introduction-to-opmphf/index.html" title="ä¸‹åˆ5:32" rel="bookmark">
							<time class="entry-date updated" datetime="2011-10-16T17:32:17+08:00">2011å¹´10æœˆ16æ—¥</time>
						</a> ä¸Šå…¬å¸ƒ				<span class="byline"> ä½œè€…ä¸º <span class="author vcard">
								<a class="url fn n" href="./../../../../author/yankay/index.html" title="æŸ¥çœ‹ yankay çš„æ‰€æœ‰æ–‡ç« " rel="author">yankay</a>
							</span>
						</span>			</div>
<!-- .entry-meta -->
			</header>
	<!-- .entry-header -->

						<div class="entry-content">
								<h4>ä»€ä¹ˆæ˜¯ä¿åºæœ€å°å®Œç¾å“ˆå¸Œå‡½æ•°</h4>
<p>æˆ‘æ›¾ç»èŠ±äº†å¾ˆå¤šè„‘ç­‹æ¥æ‰¾ä¸€ä¸ªå¾ˆå¥½å¾ˆå®Œç¾çš„å“ˆå¸Œç®—æ³•ï¼Œä½†éƒ½æ²¡æœ‰æƒ³åˆ°ï¼Œæœ€è¿‘çœ‹åˆ°äº†ï¼Œæ©ä¸ä½ä¸€é˜µæ¿€åŠ¨åˆ†äº«ä¸‹ã€‚æœ€å°å®Œç¾å“ˆå¸Œå‡½æ•°æ˜¯ä»€ä¹ˆï¼Œè¦ä»å®šä¹‰è¯´èµ·ï¼Œè¿™ä¸ªåå­—å¾ˆé•¿ï¼Œä¸€æ­¥æ­¥è§£é‡Šã€‚</p>
<ol>
<li>
<strong>å“ˆå¸Œå‡½æ•° </strong>ä»»æ„å‡½æ•°h(x)éƒ½å¯ä»¥è¯´å“ˆå¸Œå‡½æ•°ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œä¸€ä¸ªè‰¯å¥½çš„å“ˆå¸Œå‡½æ•°å¯ä»¥å°½é‡é¿å…é‡å¤ã€‚xçš„é›†åˆæ˜¯å‚æ•°åŸŸï¼Œh(x)çš„é›†åˆæ˜¯å€¼åŸŸã€‚</li>
<li>
<strong>å®Œç¾å“ˆå¸Œå‡½æ•° Â </strong>å®Œç¾å“ˆå¸Œå‡½æ•°ï¼Œå°±æ˜¯å®Œå…¨ä¸ä¼šå†²çªçš„å“ˆå¸Œå‡½æ•°ï¼Œè¿™è¦æ±‚å‡½æ•°çš„å€¼åŸŸè‡³å°‘æ¯”å‚æ•°åŸŸè¦å¤§</li>
<li>
<strong>æœ€å°å®Œç¾å“ˆå¸Œå‡½æ•° </strong>æœ€å°å®Œç¾å“ˆå¸Œå‡½æ•°ï¼Œå°±æ˜¯æŒ‡å‡½æ•°çš„å€¼åŸŸå’Œå‚æ•°åŸŸçš„å¤§å°å®Œå…¨ç›¸ç­‰ï¼Œä¸€ä¸ªä¹Ÿä¸å¤š</li>
<li>
<strong>ä¿åºæœ€å°å®Œç¾å“ˆå¸Œå‡½æ•° </strong>ä¿åºçš„æ„æ€å°±æ˜¯æŒ‡è¿™ä¸ªå“ˆå¸Œä¹‹åé¡ºåºæ˜¯ä¸å˜çš„ï¼ŒåŒæ—¶è¿˜èƒ½æ»¡è¶³å…¶ä»–ä¸¤ä¸ªæ¡ä»¶ã€‚</li>
</ol>
<div>è¿™ä¸ªå‡½æ•°çš„ä¼˜ç‚¹å°±æ˜¯å½¢å¼ä¸Šå¾ˆå®Œç¾ï¼Œå°±åƒç»™ä¸€ä¸ªæ’å¥½åºçš„æ–‡æ¡£ç¼–ä¸Šçš„åºå·ä¸€èˆ¬ç´§å‡‘å¯é ã€‚ä½†æ˜¯è¿™ä¸ªå‡½æ•°æœ‰ä¸¤ä¸ªç¼ºç‚¹ï¼Œä¸€æ˜¯å¿…é¡»äº‹å‰å¿…é¡»çŸ¥é“åŸæ•°æ®é›†ï¼ŒäºŒæ˜¯éœ€è¦èŠ±ä¸€å®šçš„CPUæ¥ç”Ÿæˆè¿™ä¸ªå‡½æ•°ã€‚æˆ‘è®¤ä¸ºï¼Œå¯¹äºæ•°æ®ä»“åº“ç±»çš„çº¿ä¸‹æœç´¢åº”ç”¨ï¼Œè¿™ä¸ªç®—æ³•æ˜¯æœ‰ç”¨æ­¦ä¹‹åœ°çš„ã€‚ä½†å¯¹äºå¼ºè°ƒå®æ—¶çš„æ•°æ®ä¸šåŠ¡ï¼Œè¿™ä¸ªç®—æ³•æ˜¯ä¸é€‚åˆçš„ã€‚</div>
<div>
<h4>ç®—æ³•å®ç°</h4>
<p>è¯¥ç®—æ³•çš„å®ç°æ–¹æ³•æ˜¯è¿™æ ·çš„ã€‚å…ˆæ„é€ ä¸¤ä¸ªæ™®é€šçš„å“ˆå¸Œå‡½æ•°h1(x)å’Œh2(x),è¿˜æœ‰ä¸€ä¸ªç”¨æ•°ç»„å®ç°çš„å‡½æ•°g(x)ã€‚ä½¿å¾—$$h(x)=g(h1(x))+g(h2(x)) mod n$$,å…¶ä¸­næ˜¯å‚æ•°çš„æ€»ä¸ªæ•°ï¼ŒH(x)å°±æ˜¯æœ€ç»ˆçš„æœ‰åºæœ€å°å®Œç¾å“ˆå¸Œå‡½æ•°äº†ã€‚</p>
<p>ä»¥ä¸Šæ˜¯å®šä¹‰ï¼Œè¯´ä¸æ¸…æ¥šï¼Œä¸¾ä¸ªä¾‹å­å°±æ˜ç™½äº†ã€‚å–ä¸€ä¸ªnä¸º12çš„æ•°æ®é›†ã€‚</p>
<p>é¦–å…ˆæ„é€ è¿™ä¸‰ä¸ªå‡½æ•°ï¼š<br>
å‡½æ•°h1å’Œh2:</p>
<table width="100%">
<tbody>
<tr>
<td>x</td>
<td>h1å‡½æ•°</td>
<td>h2å‡½æ•°</td>
</tr>
<tr>
<td>jezebel</td>
<td>5</td>
<td>9</td>
</tr>
<tr>
<td>jezer</td>
<td>5</td>
<td>7</td>
</tr>
<tr>
<td>&#8230;</td>
<td>&#8230;</td>
<td>&#8230;</td>
</tr>
</tbody>
</table>
<p>å‡½æ•°g:</p>
<table width="100%">
<tbody>
<tr>
<td>x</td>
<td>gå‡½æ•°</td>
</tr>
<tr>
<td>5</td>
<td>0</td>
</tr>
<tr>
<td>7</td>
<td>1</td>
</tr>
<tr>
<td>9</td>
<td>0</td>
</tr>
<tr>
<td>&#8230;</td>
<td>&#8230;</td>
</tr>
</tbody>
</table>
</div>
<div>æ ¹æ®ä¸Šæ–‡çš„å…¬å¼$$h(x)=g(h1(x))+g(h2(x)) mod n$$ï¼Œå¯ä»¥å¾—å‡ºï¼š</div>
<div>
<table width="100%">
<tbody>
<tr>
<td>x</td>
<td>hè®¡ç®—æ­¥éª¤</td>
<td>hå€¼</td>
</tr>
<tr>
<td>jezebel</td>
<td>g(5)+g(9)</td>
<td>0</td>
</tr>
<tr>
<td>jezer</td>
<td>g(5)+g(7)</td>
<td>1</td>
</tr>
<tr>
<td>&#8230;</td>
<td>&#8230;</td>
<td>&#8230;</td>
</tr>
</tbody>
</table>
</div>
<p>è¿™é‡Œçš„hå°±å¯ä»¥æœ€å°å®Œç¾å“ˆå¸Œå‡½æ•°ç®—å‡ºçš„å€¼äº†ï¼Œå¾ˆç¥å¥‡ï¼Œä¸æ˜¯å—ï¼Ÿ</p>
<p>å¤§è‡´çš„æµç¨‹èµ°äº†ä¸€éï¼Œç°åœ¨æœ€æœ€å…³é”®çš„æ˜¯h1(x),h2(x)å’Œg(x)æ˜¯æ€ä¹ˆå¾—æ¥çš„ã€‚</p>
<p>h1(x)å’Œh2(x)æ¯”è¾ƒç®€å•ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªå¾ˆç®€ä¾¿çš„æ–¹æ³•è·å¾—ï¼šå…ˆå®šä¹‰ä¸€ä¸ªæƒé‡æ•°ç»„w[i],è¿™ä¸ªæ•°æ®æ˜¯ä¸€ç³»åˆ—éšæœºçš„æ•°ã€‚$$h1=(t[1]*w[1]+t[2]*w[2]+&#8230;+t[i]*w[i]) mod m$$ã€‚å…¶ä¸­t[i]æŒ‡å¾—çš„å­—ç¬¦ä¸²xçš„ç¬¬iä¸ªå­—ç¬¦,må€¼å¾—çš„å‡½æ•°çš„å€¼åŸŸã€‚åªè¦æ›´æ¢ä¸€ä¸ªæƒé‡æ•°ç»„ï¼Œå°±å¯ä»¥é‡æ–°æ„é€ ä¸€ä¸ªæ–°å‡½æ•°ã€‚æœ‰å¾ˆå¤šæ–¹æ³•å¯ä»¥æ„é€ è¿™ä¸¤ä¸ªå‡½æ•°ã€‚</p>
<p>g(x)çš„è·å¾—å°±æ¯”è¾ƒå¤æ‚ã€‚å¯ä»¥æ˜¯å‡‘å‡ºæ¥çš„ã€‚å°±å¦‚åŒä¸Šé¢çš„ä¾‹å­ï¼Œå› ä¸º$$g(5)+g(9) mod 12=0$$,$$g(5)+g(7) mod 12=1$$ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å‡‘å‡º$$g(5)=0,g(7)=1,g(9)=0$$è¿™æ ·å°±å¯ä»¥æ»¡è¶³ä¸Šé¢çš„ä¸¤ä¸ªæ¡ä»¶äº†ã€‚éœ€è¦ä¸€ä¸ªæ•°ç»„æ¥å­˜å‚¨å‡½æ•°gçš„ç»“æœï¼Œå½“ç„¶å‡‘ä¹Ÿä¸èƒ½çå‡‘ï¼Œæ˜¯æœ‰æ–¹æ³•çš„ï¼Œä¸‹é¢ä¸“é—¨è®²å‡‘çš„æ­¥éª¤ã€‚</p>
<div>
<h4>ç®—æ³•å‡½æ•°ç”Ÿæˆ</h4>
<p>é¦–å…ˆéšæ„è®¾å®šä¸€ä¸ªæ•°ï¼Œæ¯”å¦‚æ˜¯7ï¼Œè®¾ä¸º$$g(7)=1$$,å› ä¸ºæˆ‘ä»¬å·²çŸ¥$$g(5)+g(7) mod 12=1$$ï¼Œæ‰€ä»¥å¯ä»¥æ¨è®ºå‡º$$g(5)=0$$ã€‚å› ä¸º$$g(5)+g(9) mod 12=0$$ï¼Œæ‰€ä»¥å¯ä»¥æ¨å‡º$$g(9)=0$$ï¼Œä»¥æ­¤ç±»æ¨å°±å¯ä»¥äº†ã€‚ä½†è¦æ³¨æ„çš„æ˜¯åƒä¸‡ä¸èƒ½é‡å¤è®¾å®šä¸€ä¸ªæ•°ä¸¤æ¬¡ï¼Œè¿™æ ·å°±ä¼šå½¢æˆä¸€ä¸ªç¯ï¼Œæ°¸è¿œä¹Ÿæ¨ä¸å®Œã€‚æ‰€ä»¥é‡åˆ°å·²ç»æ¨ç®—è¿‡çš„æ•°çš„æ—¶å€™ï¼Œè¦æ£€æµ‹ç¯çš„å­˜åœ¨ã€‚è¿™æ ·ä¸‹å»ï¼Œå°±å¯ä»¥çŒœå‡ºå…¨éƒ¨çš„å€¼äº†ã€‚</p>
<p>ç°åœ¨éœ€è¦çš„å°±æ˜¯åˆ†æè¿™ä¸ªå‡‘çš„è¿‡ç¨‹çš„è¿è¡Œæ•ˆç‡é—®é¢˜ã€‚è¿™ä¸ªå°±è¦æ¶‰åŠåˆ°h1,h2è¿™ä¸¤ä¸ªå‡½æ•°çš„å€¼åŸŸå¤§å°ï¼Œå¦‚æœè¶Šå¤§ï¼Œè¶Šå®¹æ˜“å‡‘å‡ºä¸€ä¸ªgå‡½æ•°ï¼Œä½†æ˜¯gå‡½æ•°çš„å‚æ•°åŸŸå°±ä¼šæ¯”è¾ƒå¤§ï¼Œå­˜å‚¨è¿™ä¸ªgå‡½æ•°çš„æ•°æ®å°±éœ€è¦å ç”¨æ›´å¤šçš„ç©ºé—´ã€‚ç›¸åå¦‚æœå€¼åŸŸè¶Šå°ï¼Œåœ¨å‡‘çš„æ—¶å€™å°±éå¸¸å®¹æ˜“å‡ºç°ç¯ï¼Œéœ€è¦æ›´é•¿çš„æ—¶é—´æ‰èƒ½å‡‘å‡ºè¿™ä¸ªgå‡½æ•°ã€‚</p>
<p>æ€ä¹ˆåŠå‘¢ï¼Ÿ</p>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨3ä¸ªçš„hå‡½æ•°æ¥é™ä½å½¢æˆç¯çš„å¯èƒ½ï¼Œå°±æ˜¯è¿™æ ·$$h(x)=g(h1(x))+g(h2(x))+g(h3(x)) mod n$$ï¼Œè¿™æ ·è™½ç„¶æ¨ç†gå‡½æ•°çš„è¿‡ç¨‹ä¼šå¤æ‚ä¸€äº›ï¼Œä½†æ˜¯å¾ˆæœ‰æ•ˆï¼Œæœ‰å®éªŒåˆ†æè¡¨æ˜ï¼Œå½“hå‡½æ•°çš„å€¼åŸŸå¤§çº¦å‚æ•°åŸŸçš„1.23å€çš„æ—¶å€™ï¼Œè¿™ä¸ªgå‡½æ•°çš„åˆ›å»ºå°è¯•æ¬¡æ•°æ˜¯å¸¸æ•°ã€‚</p>
<p>è‡³æ­¤ï¼Œè¿™ä¸ªç®—æ³•ä»‹ç»å®Œäº†ã€‚è¿™ä¸ªæ–¹æ³•æ˜¯ä»ã€ŠManaging Gigabytesã€‹è¿™æœ¬ä¹¦çœ‹åˆ°çš„ï¼Œè¿™é‡Œçš„è®²è¿°æ›´æµ…æ˜¾ä¸€äº›ã€‚</p>
</div>
<div>
<h4>ç»“è¯­</h4>
<p>è¿™ä¸ªå“ˆå¸Œå‡½æ•°æ˜¯ä¸€ä¸ªé™æ€Hashå‡½æ•°ï¼Œå¯ä»¥éå¸¸æœ‰æ•ˆçš„ç¼©å‡ç´¢å¼•æ‰€éœ€è¦çš„ç©ºé—´ã€‚ã€ŠManaging Gigabytesã€‹ä¸€ä¹¦ä¸­æœ‰ä¸€ä¸ªå¯¹æ¯”ï¼Œå¦‚æœç›´æ¥ä½¿ç”¨å­—ç¬¦ä¸²æ•°ç»„ï¼Œ100ä¸‡ä¸ªæœ¯è¯­éœ€è¦28MBçš„ç©ºé—´ï¼Œè€Œæ˜¯è¦è¿™æ ·çš„å“ˆå¸Œå‡½æ•°ï¼Œå¯ä»¥ç¼©å‡åˆ°12MBã€‚è¦çŸ¥é“ç´¢å¼•å°ä¸€ç‚¹ï¼Œç£ç›˜å°±èƒ½è¯»å¾—å¿«ä¸€ç‚¹ï¼ŒæŸ¥è¯¢å°±èƒ½å¿«ä¸€ç‚¹ã€‚æ‰€ä»¥è¿™ä¸ªå“ˆå¸Œå‡½æ•°å¯¹äºæé«˜æ€§èƒ½æ˜¯éå¸¸ç»™åŠ›çš„ã€‚</p>
<p>ä½†æ˜¯ä»–æ˜¯é™æ€çš„ï¼Œå°±æ„å‘³ç€äº‹å‰å¿…é¡»çŸ¥é“éœ€è¦å“ˆå¸Œå“ªäº›æ•°æ®ã€‚åŒæ—¶ç”Ÿæˆçš„ç®—æ³•æ¯”è¾ƒå¤æ‚ï¼Œéœ€è¦å¾ˆé•¿çš„æ—¶é—´æ¥å»ºç«‹ç´¢å¼•ã€‚æ²¡æœ‰åŠæ³•å®æ—¶æ·»åŠ æ›´æ–°ã€‚ç»™ä»–çš„åº”ç”¨èŒƒå›´æäº†ä¸ªæå¤§çš„é™åˆ¶ã€‚çªƒä»¥ä¸ºè¾“å…¥æ³•çš„è¯åº“ï¼Œæ•°æ®ä»“åº“çš„æŸ¥è¯¢ç´¢å¼•ï¼Œè¿˜æœ‰ä¸€äº›ä¸éœ€è¦æ›´æ–°ä¸”å¯¹æ€§èƒ½æœ‰è¦æ±‚çš„åœºæ™¯ï¼Œè¿™ä¸ªç®—æ³•æ˜¯é€‚ç”¨çš„ã€‚</p>
</div>
							</div>
<!-- .entry-content -->
		
	
	<footer class="entry-meta">
		
							<span class="cat-links">
				æ–‡ç« åˆ†ç±» <a href="./../../../%e6%8a%80%e6%9c%af/index.html" rel="category tag">è½¯ä»¶æŠ€æœ¯</a>			</span>
				<span class="sep"> | </span>
			
							<span class="taglinks">
				æ ‡ç­¾ï¼š <a href="./../../../../tag/opmphf/index.html" rel="tag">opmphf</a>, <a href="./../../../../tag/%e5%93%88%e5%b8%8c/index.html" rel="tag">å“ˆå¸Œ</a>, <a href="./../../../../tag/%e6%9c%80%e5%b0%8f%e5%ae%8c%e7%be%8e%e5%93%88%e5%b8%8c%e5%87%bd%e6%95%b0/index.html" rel="tag">æœ€å°å®Œç¾å“ˆå¸Œå‡½æ•°</a>			</span>
				<span class="sep"> | </span>
			
		
						<span class="comments-link"><a href="./../../../../introduction-to-opmphf/index.html#comments">1 æ¡è¯„è®º</a></span>
				<span class="sep"> | </span>
			
		
	</footer>
	<!-- #entry-meta -->

</article><!-- #post-26158 -->

							
								
<article id="post-26120" class="post-26120 post type-post status-publish format-standard hentry category-5 tag-java">

	<header class="entry-header">

		
		<h2 class="entry-title">
						<a href="./../../../../java%e8%b0%83%e7%94%a8%e5%a4%96%e9%83%a8%e7%a8%8b%e5%ba%8f%e6%8a%80%e5%b7%a7/index.html" title="è¿ç»“åˆ°Javaè°ƒç”¨å¤–éƒ¨ç¨‹åºæŠ€å·§" rel="bookmark">Javaè°ƒç”¨å¤–éƒ¨ç¨‹åºæŠ€å·§</a>
			
		</h2>
					<div class="entry-meta">
				åœ¨ <a href="./../../../../java%e8%b0%83%e7%94%a8%e5%a4%96%e9%83%a8%e7%a8%8b%e5%ba%8f%e6%8a%80%e5%b7%a7/index.html" title="ä¸‹åˆ6:42" rel="bookmark">
							<time class="entry-date updated" datetime="2011-09-19T18:42:21+08:00">2011å¹´9æœˆ19æ—¥</time>
						</a> ä¸Šå…¬å¸ƒ				<span class="byline"> ä½œè€…ä¸º <span class="author vcard">
								<a class="url fn n" href="./../../../../author/yankay/index.html" title="æŸ¥çœ‹ yankay çš„æ‰€æœ‰æ–‡ç« " rel="author">yankay</a>
							</span>
						</span>			</div>
<!-- .entry-meta -->
			</header>
	<!-- .entry-header -->

						<div class="entry-content">
								<p>å‰äº›å¤©ä½¿ç”¨Javaè°ƒç”¨å¤–éƒ¨ç¨‹åºçš„æ—¶å€™ï¼Œå‘ç°çº¿ç¨‹ä¼šå µå¡åœ¨waitfor()æ–¹æ³•ã€‚<br>
è°ƒç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<pre lang="java">
Process process = Runtime.getRuntime().exec(cmd);
process.waitfor();
</pre>
<p>å¦‚æœç›´æ¥åœ¨Shellä¸­è°ƒç”¨è¿™ä¸ªç¨‹åºï¼Œç¨‹åºä¼šå¾ˆå¿«ç»“æŸï¼Œä¸ä¼šåƒµæ­»ã€‚</p>
<p>ä¸ºä»€ä¹ˆä¼šå µå¡å‘¢ï¼ŒåŸå› æ˜¯å½“è°ƒç”¨exec(cmd)åï¼ŒJVMä¼šå¯åŠ¨ä¸€ä¸ªå­è¿›ç¨‹ï¼Œè¯¥è¿›ç¨‹ä¼šä¸JVMè¿›ç¨‹å»ºç«‹3ä¸ªç®¡é“è¿æ¥ï¼Œæ ‡å‡†è¾“å…¥ï¼Œæ ‡å‡†è¾“å‡ºå’Œæ ‡å‡†é”™è¯¯æµã€‚å‡è®¾è¯¥ç¨‹åºä¸æ–­åœ¨å‘æ ‡å‡†è¾“å‡ºæµå’Œæ ‡å‡†é”™è¯¯æµå†™æ•°æ®ï¼Œè€ŒJVMä¸è¯»å–ï¼Œæ•°æ®ä¼šæš‚æ—¶ç¼“å†²åœ¨Linuxçš„ç¼“å†²åŒºï¼Œç¼“å†²åŒºæ»¡åè¯¥ç¨‹åºå°†æ— æ³•ç»§ç»­å†™æ•°æ®ï¼Œä¼šåƒµæ­»ï¼Œæ‰€ä»¥Javaç¨‹åºå°±ä¼šåƒµæ­»åœ¨waitfor()ï¼Œæ°¸è¿œæ— æ³•ç»“æŸã€‚</p>
<p>è§£å†³åŠæ³•å°±æ˜¯å¢åŠ ä¸¤ä¸ªçº¿ç¨‹ï¼Œä¸€ä¸ªçº¿ç¨‹è´Ÿè´£è¯»æ ‡å‡†è¾“å‡ºæµï¼Œå¦ä¸€ä¸ªè´Ÿè´£è¯»æ ‡å‡†é”™è¯¯æµï¼Œè¿™æ ·å­æ•°æ®å°±ä¸ä¼šç§¯å‹åœ¨ç¼“å†²åŒºï¼Œç¨‹åºå°±èƒ½å¤Ÿé¡ºåˆ©è¿è¡Œã€‚</p>
<p>æŸ¥çœ‹æºä»£ç åï¼Œè¿˜å‘ç°ä¸€ä¸ªæ½œåœ¨çš„é—®é¢˜ã€‚ä½†ç¨‹åºæ‰§è¡Œåˆ°execçš„æ—¶å€™ï¼ŒJVMä¼šä½¿ç”¨ç®¡é“ï¼Œå æœ‰3ä¸ªæ–‡ä»¶å¥æŸ„ï¼Œä½†ç¨‹åºè¿è¡Œç»“æŸåï¼Œè¿™ä¸‰ä¸ªå¥æŸ„å¹¶ä¸ä¼šè‡ªåŠ¨å…³é—­ï¼Œè¿™æ ·æœ€ç»ˆä¼šå¯¼è‡´java.io.IOException: Too many open filesã€‚æ‰€ä»¥å°±ç®—å¤–éƒ¨ç¨‹åºçš„æ²¡æœ‰è¾“å‡ºï¼Œä¹Ÿå¿…é¡»å…³é—­å¥æŸ„ï¼š</p>
<pre lang="java">
Process process=null;
try{
  process = Runtime.getRuntime().exec(cmd);
  process.waitfor();
}cache{
  process.getOutputStream().close();
  process.getInputStream().close();
  process.getErrorStream().close();
}
</pre>
<p>æˆ‘ä»¬å‘è§‰å½“è°ƒç”¨close()æ–¹æ³•å,JVMå¹¶ä¸ä¼šç«‹å³å›æ”¶å¥æŸ„ï¼Œå…·ä½“çš„å›æ”¶æ—¶é—´ä¸ç¡®å®šã€‚å¦å¤–å¦‚æœä¸è°ƒç”¨close(),å¥æŸ„ä¹Ÿä¼šè¢«å›æ”¶ï¼Œä¹Ÿå¯èƒ½å‘ç”Ÿâ€œToo many open filesâ€çš„é”™è¯¯ã€‚æ ¹æ®<a href="http://mark.koli.ch/2011/01/leaky-pipes-remember-to-close-your-streams-when-using-javas-runtimegetruntimeexec.html">è¿™ç¯‡æ–‡ç« </a>ï¼Œä¸åŒçš„åƒåœ¾æ”¶é›†å™¨ä¼šé€‰æ‹©ä¸åŒçš„å›æ”¶ç­–ç•¥ã€‚æ‰€ä»¥æœ€å¥½è¿˜æ˜¯è¦å…³é—­ã€‚</p>
<p><strong>æ€»ç»“</strong><br>
1.å¦‚æœå¤–éƒ¨ç¨‹åºæœ‰å¤§é‡è¾“å‡º,éœ€è¦å¯åŠ¨é¢å¤–çš„çº¿ç¨‹æ¥è¯»å–æ ‡å‡†è¾“å‡ºå’Œæ ‡å‡†é”™è¯¯æµ<br>
2.å¿…é¡»å…³é—­ä¸‰ä¸ªå¥æŸ„</p>
<p>å¦å¤–ç¼–å†™äº†ä¸€ä¸ªå·¥å…·ç±»æ¥æ–¹ä¾¿ä½¿ç”¨ï¼Œæœ¬æ¥ä¸¤è¡Œä»£ç ç¡®è¦å†™æˆè¿™ä¹ˆé•¿ï¼Œæœ‰ç‚¹å°æŠ˜è…¾äº†ã€‚æ„Ÿå…´è¶£çš„å¯ä»¥åœ¨<a href="http://www.yankay.com/wp-content/uploads/2011/09/ProcessUtil.txt">è¿™é‡Œ</a>ä¸‹è½½ï¼š</p>
							</div>
<!-- .entry-content -->
		
	
	<footer class="entry-meta">
		
							<span class="cat-links">
				æ–‡ç« åˆ†ç±» <a href="./../../../%e6%8a%80%e6%9c%af/index.html" rel="category tag">è½¯ä»¶æŠ€æœ¯</a>			</span>
				<span class="sep"> | </span>
			
							<span class="taglinks">
				æ ‡ç­¾ï¼š <a href="./../../../../tag/java/index.html" rel="tag">Java</a>			</span>
				<span class="sep"> | </span>
			
		
						<span class="comments-link"><a href="./../../../../java%e8%b0%83%e7%94%a8%e5%a4%96%e9%83%a8%e7%a8%8b%e5%ba%8f%e6%8a%80%e5%b7%a7/index.html#respond">å‘è¡¨è¯„è®º</a></span>
				<span class="sep"> | </span>
			
		
	</footer>
	<!-- #entry-meta -->

</article><!-- #post-26120 -->

							
						
								<div class="more-content">
			<div class="row-fluid">
				<div class="span6 previous-post">
					<a href="./../../../%E6%8A%80%E6%9C%AF/index.html">&laquo; ä¸Šä¸€é¡µ</a>				</div>
				<div class="span6 next-post">
					<a href="./../../../%E6%8A%80%E6%9C%AF/page/3/index.html">ä¸‹ä¸€é¡µ &raquo;</a>				</div>
			</div>
		</div>
	
					</div>
					<!-- #content -->

					
<div id="secondary" class="widget-area span3">

	
	<div id="sidebar">
		<aside id="search-2" class="widget-container widget_search"><form method="get" id="searchform" class="navbar-search pull-right" action="http://yankay.com/" role="search">
	<input type="text" class="search-query input-medium" name="s" placeholder="Search &hellip;">
</form>
<div class="clear"></div>
</aside>
		<aside id="recent-posts-2" class="widget-container widget_recent_entries">
		<h3 class="widget-title">è¿‘æœŸæ–‡ç« </h3>
		<ul>
											<li>
					<a href="./../../../../containerd-will-replace-docker/index.html">å¬è¯´ Docker è¢« kubenetes æŠ›å¼ƒäº†ï¼Œæ€ä¹ˆåŠï¼Ÿcontainerd</a>
									</li>
											<li>
					<a href="./../../../../%e5%85%ac%e5%91%8a-%e5%8d%9a%e5%ae%a2%e9%87%8d%e5%bc%80%e4%ba%86/index.html">å…¬å‘Š &#8211; åšå®¢é‡å¼€äº†</a>
									</li>
											<li>
					<a href="./../../../../cloudfoundry-v2-with-microcf/index.html">CloudFoundry v2é¢é¢è°ˆï¼Œå†…èµ MicroCFv2ç¦åˆ©</a>
									</li>
											<li>
					<a href="./../../../../docker-paas-for-any-application/index.html">Dockerèƒ½å¤Ÿè¿è¡Œä»»ä½•åº”ç”¨çš„â€œPaaSâ€äº‘</a>
									</li>
											<li>
					<a href="./../../../../scala-tour-choiceness/index.html">Scala Tour &#8211; ç²¾é€‰</a>
									</li>
					</ul>

		</aside><aside id="recent-comments-2" class="widget-container widget_recent_comments"><h3 class="widget-title">è¿‘æœŸè¯„è®º</h3>
<ul id="recentcomments">
<li class="recentcomments">
<span class="comment-author-link"><a href="https://www.ccppcoding.com/archives/63098.html" class="url" rel="ugc external nofollow">[æ•´ç†]å®Œç¾å“ˆå¸Œå‡½æ•°(Perfect Hash Function) - é«˜æ€§èƒ½æ¶æ„æ¢ç´¢</a></span>å‘è¡¨åœ¨ã€Š<a href="./../../../../introduction-to-opmphf/index.html#comment-3101">æœ€å°å®Œç¾å“ˆå¸Œå‡½æ•°ç®€ä»‹</a>ã€‹</li>
<li class="recentcomments">
<span class="comment-author-link"><a href="https://www.javatt.com/p/284115" class="url" rel="ugc external nofollow">Scala Tour â€“ ç²¾é€‰ - Javaå¤©å ‚</a></span>å‘è¡¨åœ¨ã€Š<a href="./../../../../scala-tour-choiceness/index.html#comment-2781">Scala Tour &#8211; ç²¾é€‰</a>ã€‹</li>
<li class="recentcomments">
<span class="comment-author-link"><a href="https://www.zhankr.net/46292.html" class="url" rel="ugc external nofollow">Golangé€‚åˆé«˜å¹¶å‘åœºæ™¯çš„åŸå› åˆ†æ - ç«™å£³ç½‘</a></span>å‘è¡¨åœ¨ã€Š<a href="./../../../../go-clear-concurreny/index.html#comment-2701">Go-ç®€æ´çš„å¹¶å‘</a>ã€‹</li>
<li class="recentcomments">
<span class="comment-author-link"><a href="https://code84.com/710435.html" class="url" rel="ugc external nofollow">HBase å®˜æ–¹æ–‡æ¡£ &#8211; æºç å·´å£«</a></span>å‘è¡¨åœ¨ã€Š<a href="./../../../../windows%e4%b8%8beclipse%e7%9a%84-c%e7%8e%af%e5%a2%83%e9%85%8d%e7%bd%ae/index.html#comment-2679">Windowsä¸‹eclipseçš„ C++ç¯å¢ƒé…ç½®</a>ã€‹</li>
<li class="recentcomments">
<span class="comment-author-link"><a href="https://www.ideaopen.cn/98230.html" class="url" rel="ugc external nofollow">Go-ç®€æ´çš„å¹¶å‘-ç‚¹å¼€</a></span>å‘è¡¨åœ¨ã€Š<a href="./../../../../go-clear-concurreny/index.html#comment-1255">Go-ç®€æ´çš„å¹¶å‘</a>ã€‹</li>
</ul></aside><aside id="archives-2" class="widget-container widget_archive"><h3 class="widget-title">å½’æ¡£</h3>
			<ul>
					<li><a href="./../../../../2021/06/index.html">2021å¹´6æœˆ</a></li>
	<li><a href="./../../../../2021/03/index.html">2021å¹´3æœˆ</a></li>
	<li><a href="./../../../../2014/02/index.html">2014å¹´2æœˆ</a></li>
	<li><a href="./../../../../2013/09/index.html">2013å¹´9æœˆ</a></li>
	<li><a href="./../../../../2013/05/index.html">2013å¹´5æœˆ</a></li>
	<li><a href="./../../../../2013/01/index.html">2013å¹´1æœˆ</a></li>
	<li><a href="./../../../../2012/11/index.html">2012å¹´11æœˆ</a></li>
	<li><a href="./../../../../2012/09/index.html">2012å¹´9æœˆ</a></li>
	<li><a href="./../../../../2012/08/index.html">2012å¹´8æœˆ</a></li>
	<li><a href="./../../../../2012/03/index.html">2012å¹´3æœˆ</a></li>
	<li><a href="./../../../../2012/02/index.html">2012å¹´2æœˆ</a></li>
	<li><a href="./../../../../2012/01/index.html">2012å¹´1æœˆ</a></li>
	<li><a href="./../../../../2011/11/index.html">2011å¹´11æœˆ</a></li>
	<li><a href="./../../../../2011/10/index.html">2011å¹´10æœˆ</a></li>
	<li><a href="./../../../../2011/09/index.html">2011å¹´9æœˆ</a></li>
	<li><a href="./../../../../2010/10/index.html">2010å¹´10æœˆ</a></li>
	<li><a href="./../../../../2010/08/index.html">2010å¹´8æœˆ</a></li>
	<li><a href="./../../../../2010/07/index.html">2010å¹´7æœˆ</a></li>
	<li><a href="./../../../../2010/06/index.html">2010å¹´6æœˆ</a></li>
	<li><a href="./../../../../2010/05/index.html">2010å¹´5æœˆ</a></li>
	<li><a href="./../../../../2010/04/index.html">2010å¹´4æœˆ</a></li>
	<li><a href="./../../../../2010/03/index.html">2010å¹´3æœˆ</a></li>
	<li><a href="./../../../../2010/02/index.html">2010å¹´2æœˆ</a></li>
	<li><a href="./../../../../2010/01/index.html">2010å¹´1æœˆ</a></li>
	<li><a href="./../../../../2009/10/index.html">2009å¹´10æœˆ</a></li>
	<li><a href="./../../../../2009/09/index.html">2009å¹´9æœˆ</a></li>
	<li><a href="./../../../../2009/08/index.html">2009å¹´8æœˆ</a></li>
	<li><a href="./../../../../2009/07/index.html">2009å¹´7æœˆ</a></li>
	<li><a href="./../../../../2009/06/index.html">2009å¹´6æœˆ</a></li>
	<li><a href="./../../../../2008/10/index.html">2008å¹´10æœˆ</a></li>
	<li><a href="./../../../../2008/08/index.html">2008å¹´8æœˆ</a></li>
	<li><a href="./../../../../2008/07/index.html">2008å¹´7æœˆ</a></li>
	<li><a href="./../../../../2008/06/index.html">2008å¹´6æœˆ</a></li>
			</ul>

			</aside><aside id="categories-2" class="widget-container widget_categories"><h3 class="widget-title">åˆ†ç±»ç›®å½•</h3>
			<ul>
					<li class="cat-item cat-item-3">
<a href="./../../../%e5%ae%b6%e5%ba%ad%e7%94%9f%e6%b4%bb/index.html">å®¶åº­ç”Ÿæ´»</a>
</li>
	<li class="cat-item cat-item-1">
<a href="./../../../uncategorized/index.html">æœªåˆ†ç±»</a>
</li>
	<li class="cat-item cat-item-7">
<a href="./../../../%e6%8a%80%e6%9c%af/%e6%af%8f%e6%97%a5%e5%bf%83%e5%be%97/index.html">æ¯æ—¥å¿ƒå¾—</a>
</li>
	<li class="cat-item cat-item-5 current-cat">
<a aria-current="page" href="./../../../%e6%8a%80%e6%9c%af/index.html">è½¯ä»¶æŠ€æœ¯</a>
</li>
			</ul>

			</aside><aside id="nav_menu-3" class="widget-container widget_nav_menu"><h3 class="widget-title">å‹æƒ…é“¾æ¥</h3>
<div class="menu-%e5%8f%8b%e6%83%85%e9%93%be%e6%8e%a5-container"><ul id="menu-%e5%8f%8b%e6%83%85%e9%93%be%e6%8e%a5" class="menu">
<li id="menu-item-27287" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-27287"><a href="https://www.daocloud.io/dce">DaoCloud Enterprise</a></li>
<li id="menu-item-27288" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-27288"><a href="https://www.daocloud.io/dch">DaoCloud äº‘åŸç”Ÿä¸€ä½“æœº</a></li>
</ul></div></aside>	</div>
	<!-- #sidebar -->

	
</div>
<!-- #secondary .widget-area .span3 -->
				</div>
				<!-- #container .row-fluid-->

				
			</div>
			<!--container fluid -->

		</div>
		<!-- container -->

	</div>
<!-- container full width -->



	<div class="container-full-width" id="after_footer">
		<div class="container">
			<div class="container-fluid">
				<footer class="site-footer row-fluid">
					<div class="span6">
						<div id="credit">
															<a href="http://cyberchimps.com/" target="_blank" title="CyberChimps Themes">
																			<h4 class="cc-credit-text">CyberChimps WordPress Themes</h4></a>
																	
													
						</div>
					</div>
					<!-- Adds the afterfooter copyright area -->
					<div class="span6">
												<div id="copyright">
							æ²ªICPå¤‡2021008917å·-1 Â© é¢œå¼€						</div>
					</div>
				</footer>
				<!-- row-fluid -->
			</div>
			<!-- .container-fluid-->
		</div>
		<!-- .container -->
	</div>    <!-- #after_footer -->


</div>
<!-- End Sub Body -->


		<script type="text/javascript">jQuery(document).ready(function($){
			$(window).scroll(function()  {
			if ($(this).scrollTop() > 0) {
			$('#header_section').addClass("sticky-header");
                       
			}
			else{
			$('#header_section').removeClass("sticky-header");
                       
			}
			});
		});</script>
	<script type="text/javascript" src="./../../../../wp-content/themes/neuro/inc/js/jquery.flexslider.js?ver=1.0" id="jquery-flexslider-js"></script>
<script type="text/javascript" src="./../../../../wp-content/themes/neuro/cyberchimps/lib/bootstrap/js/bootstrap.min.js?ver=2.0.4" id="bootstrap-js-js"></script>
<script type="text/javascript" src="./../../../../wp-content/themes/neuro/cyberchimps/lib/js/retina-1.1.0.min.js?ver=1.1.0" id="retina-js-js"></script>

</body>
</html>